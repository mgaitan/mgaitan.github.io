<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="&gt;&gt;&gt; me.geek.post()">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>tin_nqn (posts antiguos, página 8) | tin_nqn</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css" integrity="sha256-cLMYWYYutHkt+KpNqjg7NVkYSQ+E2VbrXsEvOqU7mL0=" crossorigin="anonymous">
<link href="assets/css/all.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" hreflang="es" href="rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="en/rss.xml">
<link rel="canonical" href="https://mgaitan.github.io/index-8.html">
<link rel="prev" href="index-9.html" type="text/html">
<link rel="next" href="index-7.html" type="text/html">
<!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-light bg-light
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="logo" href=".">

            <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
            </div>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="about/" class="nav-link">Sobre mí</a>
                </li>
<li class="nav-item">
<a href="charlas/" class="nav-link">Charlas</a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archivos</a>
                </li>
<li class="nav-item">
<a href="categories/index.html" class="nav-link">Categorías</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item">
                    <button class="nav-link theme-toggle" id="theme-toggle" type="button" aria-pressed="false" aria-label="Tema: Automático (sistema). Click para pasar a claro." title="Tema: Automático (sistema). Click para pasar a claro." data-mode="auto">
                        <svg class="theme-icon theme-icon-auto" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2V4a8 8 0 1 0 0 16z"></path></svg><svg class="theme-icon theme-icon-light" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg><svg class="theme-icon theme-icon-dark" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"></path></svg></button>
                </li>
                    <li>            </li>
<li class="nav-item"><a href="en/" rel="alternate" hreflang="en" class="nav-link">English</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
    
    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/modelos-de-negocio-floss-la/" class="u-url">Modelos de negocio FLOSS, la universidad, el sector privado y el Estado</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/modelos-de-negocio-floss-la/" rel="bookmark">
            <time class="published dt-published" datetime="2010-08-26T13:19:19-03:00" itemprop="datePublished" title="2010-08-26 13:19">2010-08-26 13:19</time></a>
            </p>
                <p class="commentline">        <a href="posts/modelos-de-negocio-floss-la/#disqus_thread" data-disqus-identifier="cache/posts/modelos-de-negocio-floss-la.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Distintos laboratorios de investigación y vinculación de mi facultad del
área química y del área computación, junto a algunas empresas de
software locales (<a class="reference external" href="http://www.vates.com">VATES</a> y otra) y del sector
petroquímico (<a class="reference external" href="http://www.pr3.com.ar/">Petroquímica Rio Tercero</a>)
están conformando un <em>"Consorcio Asociativo Público Privado (CAPP)"</em> en
el marco del programa
<a class="reference external" href="http://www.agencia.gov.ar/spip.php?page=convocatorias_articulo&amp;mostrar=1104">FSTICS</a>
del Ministerio de Ciencia y Tecnología de la Nación, con el fin de
desarrollar una plataforma de desarrollo I+D de software para la
industria. Para que contextualicemos de que hablamos: el programa
estipula un aporte estatal de hasta el 60% para un proyecto de hasta 38
millones de pesos.</p>
<p>Mi participación es minúscula y aledaña: el impulsor de este proyecto es
el Dr. Martín Cismondi, director de mi proyecto integrador que se trata
de un prototipo del (tipo de) software que se desarrollaría desde esta
plataforma.</p>
<p>Cismondi es Phd en ingenieria quimica y sus investigaciones en el campo
del equilibrio de fases tienen mucha aplicación en la industria. En
particular en el petróleo, donde el impacto que puede tener mejorar el
rendimiento de un proceso (por ejemplo de destilación) se mide en
millones de morlacos.</p>
<p>Ayer tuve oportunidad de participar de una reunión, sirviendo de una
especie de "traductor" entre los quimicos y los informáticos.</p>
<p>Si bien, repito, no tengo voz (mucho menos voto) en nada de lo que allí
se resuelva, tengo interés en investigar y transmitir de la manera más
clara posible otros modelos de negocio que, por lo que presencié ayer,
están lejos de ser tenidos en cuenta. Me refiero, claro, a que, sobre
todo (no muy increíblemente) desde la facultad, no se ve más allá de un
modelo de negocio de software cerrado de venta por licencia.</p>
<p>Apunto algunas cuestiones sin orden:</p>
<p><img alt="-" src="posts/modelos-de-negocio-floss-la/local/cache-vignettes/L8xH11/puce-32883.gif"> El nicho de mercado es bastante acotado: industrias de gran escala
mayormente transnacionales. Separadamente tiene mucha utilidad y
aceptación en centros de investigación académicos.</p>
<p><img alt="image1" src="posts/modelos-de-negocio-floss-la/local/cache-vignettes/L8xH11/puce-32883.gif"> Desde el grupo conformado, no existe conocimiento cabal de las
soluciones de software específicas que ese mercado, el industrial,
demanda. Sí se sabe que el -*expertise-* y el -*know how-* que el
grupo de investigación de Cismondi tiene son el valor diferencial.</p>
<p><img alt="image2" src="posts/modelos-de-negocio-floss-la/local/cache-vignettes/L8xH11/puce-32883.gif"> No existe hoy peso específico suficiente, desde el punto de
vista del producto existente, para competir con las empresas de software
proveedoras de este nicho, sobre todo en los mercados de USA y Europa.
Por ejemplo <a class="reference external" href="http://www.aspentech.com">Aspen Tech</a>.</p>
<p><img alt="image3" src="posts/modelos-de-negocio-floss-la/local/cache-vignettes/L8xH11/puce-32883.gif"> Es difícil, a priori inimaginable, desarrollar un producto
genérico que satisfaga necesidades de diversos clientes potenciales. La
especifidad de los problemas de cada industria se supone grande.</p>
<p><img alt="image4" src="posts/modelos-de-negocio-floss-la/local/cache-vignettes/L8xH11/puce-32883.gif"> Preguntas para hacerse ¿cuantos clientes reales existen en el
mercado? ¿qué "llegada" se tiene con ellos? ¿que posibilidades reales de
venderle un software cerrado existen, teniendo en cuenta que no se sabe
cabalmente cuales son sus demandas? Supongiendo que se conoce un
problema específico ¿cuanto sale desarrollar una solución ? ¿se puede
correr el riesgo de desarrollarla sin tener asegurada su
comercialización?</p>
<p>Soy un novato en el área negocios con FLOSS (y en negocios, a secas,
también) pero lo que se me ocurre viene más o menos por este lado:</p>
<p><strong>1.</strong> Generar una estrategia para una fuerte inserción en el ámbito
académico internacional</p>
<ul class="simple">
<li><p>Para esto es indispensable la libre disponibilidad del código fuente
de manera que los métodos numérico-científicos sean transparentes,
reproducibles y verificables. Ver <a class="reference external" href="http://www.openscience.org/blog/?p=312">este
post</a> en OpenScience
Project.</p></li>
<li><p>Para evitar practicas predatorias sobre este trabajo, que alguien
cierre y comercialice, hay que orientar a una licencia FLOSS vírica,
donde los trabajos derivados mantengan la condicion libre.</p></li>
<li><p>De esta manera se apunta a constituir una comunidad
tecnologico-científica donde el nucleo de desarrollo se mantendrá en
los autores originales pero permitiendo y aprovechando código y
feedback de los usuarios.</p></li>
<li><p>En esta etapa el beneficio no es a priori monetario y en cambio sí en
cuanto a calidad del software, inserción y difusión del/los
producto/s, fidelización de usuarios y prestigio del equipo de
desarrollo.</p></li>
</ul>
<p><strong>2.</strong> La repercusión de la masa crítica generada abre la puerta al
mercado por las siguientes razones:</p>
<ul class="simple">
<li><p>Muchos de los académicos que utilicen y formen parte de un
"comunidad" alrededor del sofware FLOSS desde las universidades o
llevaran su conocimiento a la industria.</p></li>
<li><p>Tambien los investigadores dentro de la industria tienen vínculos
fluidos con la comunidad científica, sobre todo en estas áreas de
investigación de vanguardia de directa aplicabilidad.</p></li>
<li><p>El mercado a priori imposible de acceder se puede hacer más
permeable: los responsables de investigación demandan la utilización
del software en los procesos de la industria o sus labores
particulares.</p></li>
<li><p>Si el costo para la industria es nulo o bajo y de calidad, hay muchas
probabilidades de que sea aceptado.</p></li>
<li><p>La ventaja diferencial del cliente es evitar el <a class="reference external" href="http://en.wikipedia.org/wiki/Vendor_lock-in">vendor
lock-in</a>. Sin embargo,
la ventaja competitiva del equipo de desarrollo original, por su
-*know how-* adquirido es insuperable para cualquier potencial
competidor.</p></li>
</ul>
<p><strong>3.</strong> Insertado en el mercado se generan posibilidades de lucro en dos
áreas</p>
<ul class="simple">
<li><p>Customización y extensión del software bajo requerimientos
específicos. Entra en el marco de
<a class="reference external" href="http://es.wikipedia.org/wiki/SaaS">SaaS</a></p></li>
<li><p>Capacitación y entrenamiento a equipos técnicos de la industria y la
academia, tanto en el área de aplicación (quimicos) como de
desarrollodo de software.</p></li>
</ul>
<p>Muchísimo material para leer sobre el tópico hay en <a class="reference external" href="http://www.opensourcestrategies.org/">este
sitio</a>. Yo empezaré en cuanto
tenga tiempo. Invito también, de manera enfática, a leer <a class="reference external" href="http://gpec2010.googlecode.com/svn/trunk/docs/_build/html/contexto_de_trabajo.html#software-libre">la
justificación</a>
de que el software desarrollado en el marco de mi proyecto integrador lo
libero como Software Libre</p>
<section id="mas-alla-del-negocio"><h2>Más allá del negocio</h2>
<p>Además de lo expuesto se me cruzan cuestionamientos sobre el rol de la
universidad y el estado en este escenario.</p>
<p>Como ciudadano y futuro profesional festejo la inversión que en los
últimos años el Estado ha realizado para ciencia y tecnología. Apostar a
generar valor en áreas tan estrategicas como el software es necesario, y
plantearlo desde el punto de vista de fortalecer la industria nacional
(pymes) es entonces doblemente valioso.</p>
<p>Pero...</p>
<p>¿son los laboratorios de investigación de las universidades actores que
deben generar recursos por sí mismos? ¿A quien pertenece el conocimiento
que se produce en la universidad? ¿A quién debe pertenecer? ¿La
universidad actual responde a un proyecto de país ? ¿Existe tal cosa?
¿No debiera el Estado, formar parte societaria en los consorcios para
los cuales está aportando grandes recursos, además de ser agente
regulador? ¿quién y cómo regula la relación e intereses existentes entre
los grupos de investigación y el sector privado? ¿no se puede prestar a
malversaciones y abuso del <em>sello</em> de la universidad?</p>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/bonito-feito-pero-efectivo/" class="u-url">Bonito, feito pero efectivo</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/bonito-feito-pero-efectivo/" rel="bookmark">
            <time class="published dt-published" datetime="2010-08-19T11:07:16-03:00" itemprop="datePublished" title="2010-08-19 11:07">2010-08-19 11:07</time></a>
            </p>
                <p class="commentline">        <a href="posts/bonito-feito-pero-efectivo/#disqus_thread" data-disqus-identifier="cache/posts/bonito-feito-pero-efectivo.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Hace 5 años que laburo en <a class="reference external" href="http://www.agrupacionmazamorra.com.ar">una
organización</a> de trabajo
barrial. Como no recibimos aportes privados y rara vez del Estado (a
veces presentamos proyectos a programas) siempre andamos buscando formas
de sostener económicamente nuestras actividades.</p>
<p>Un recurso, no por viejo en desuso, es el del <em>"bono contribución"</em>, que
muchas veces incluye un sorteo con algún premio.</p>
<p>Además de la algo ingrata tarea de venderlos, hay que hacerlos. Alguno
tiene uno de esos sellos numeradores (un mecanimismo que va
incrementando el contador automáticamente ) pero igual cualquiera se
vuelve un burócrata (más cuando hay que sellar dos veces - el bono y
talón -).</p>
<p>Así que ayer, en 20 minutos hice <em>Bonito</em>, un programa feo pero
efectivo.</p>
<p>Primero hice una plantilla en <a class="reference external" href="http://inkscape.org">Inkscape</a> donde
entran 6 de estos bonitos en un A4.</p>
<figure class="align-center"><img alt="" src="images/bonito2-ccc74.png"></figure><p>Como el SVG es XML que es texto, la marca XXXX se puede reemplazar
fácilmente por el número que corresponda. Yo quería que me quedaran así:</p>
<figure class="align-center"><img alt="" src="images/bonito-8305a.png"></figure><p>De esta manera, simplemente tengo que meter 6 broches a la izquierda y
recortar, ya quedan ordenados para repartir entre los compañeros y
compañeras.</p>
<p>Para algunas cosas, Inkscape se puede usar por línea de comandos, por
ejemplo para convertir entre los formatos que soporta. Así paso el SVG
con los números reemplazados a un PDF. Después concateno todos los PDF
de una tanda (por ejemplo agrupados de a 10, como en el dibujo) con
Ghostscript.</p>
<p>Acá el código:</p>
<div class="code"><pre class="code python"><a id="rest_code_e512481a158d4b819e984bdaaafd697f-1" name="rest_code_e512481a158d4b819e984bdaaafd697f-1" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-1"></a><span class="ch">#!/usr/bin/env python</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-2" name="rest_code_e512481a158d4b819e984bdaaafd697f-2" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-2"></a><span class="c1"># -*- coding: utf-8 -*-</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-3" name="rest_code_e512481a158d4b819e984bdaaafd697f-3" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-3"></a><span class="c1">#</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-4" name="rest_code_e512481a158d4b819e984bdaaafd697f-4" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-4"></a><span class="c1">#       bonito.py</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-5" name="rest_code_e512481a158d4b819e984bdaaafd697f-5" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-5"></a><span class="c1">#</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-6" name="rest_code_e512481a158d4b819e984bdaaafd697f-6" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-6"></a><span class="c1">#       Copyright 2010 Martin Gaitán &lt;gaitan(at)gmail.com&gt;</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-7" name="rest_code_e512481a158d4b819e984bdaaafd697f-7" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-7"></a><span class="c1">#</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-8" name="rest_code_e512481a158d4b819e984bdaaafd697f-8" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-8"></a><span class="c1">#       This program is free software; you can redistribute it and/or modify</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-9" name="rest_code_e512481a158d4b819e984bdaaafd697f-9" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-9"></a><span class="c1">#       it under the terms of the GNU General Public License as published by</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-10" name="rest_code_e512481a158d4b819e984bdaaafd697f-10" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-10"></a><span class="c1">#       the Free Software Foundation; either version 2 of the License, or</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-11" name="rest_code_e512481a158d4b819e984bdaaafd697f-11" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-11"></a><span class="c1">#       (at your option) any later version.</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-12" name="rest_code_e512481a158d4b819e984bdaaafd697f-12" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-12"></a><span class="c1">#</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-13" name="rest_code_e512481a158d4b819e984bdaaafd697f-13" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-13"></a><span class="c1">#       This program is distributed in the hope that it will be useful,</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-14" name="rest_code_e512481a158d4b819e984bdaaafd697f-14" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-14"></a><span class="c1">#       but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-15" name="rest_code_e512481a158d4b819e984bdaaafd697f-15" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-15"></a><span class="c1">#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-16" name="rest_code_e512481a158d4b819e984bdaaafd697f-16" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-16"></a><span class="c1">#       GNU General Public License for more details.</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-17" name="rest_code_e512481a158d4b819e984bdaaafd697f-17" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-17"></a><span class="c1">#</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-18" name="rest_code_e512481a158d4b819e984bdaaafd697f-18" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-18"></a><span class="c1">#       You should have received a copy of the GNU General Public License</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-19" name="rest_code_e512481a158d4b819e984bdaaafd697f-19" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-19"></a><span class="c1">#       along with this program; if not, write to the Free Software</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-20" name="rest_code_e512481a158d4b819e984bdaaafd697f-20" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-20"></a><span class="c1">#       Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-21" name="rest_code_e512481a158d4b819e984bdaaafd697f-21" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-21"></a><span class="c1">#       MA 02110-1301, USA.</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-22" name="rest_code_e512481a158d4b819e984bdaaafd697f-22" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-22"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-23" name="rest_code_e512481a158d4b819e984bdaaafd697f-23" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-23"></a><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span><span class="o">,</span><span class="w"> </span><span class="nn">os</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-24" name="rest_code_e512481a158d4b819e984bdaaafd697f-24" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-24"></a><span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-25" name="rest_code_e512481a158d4b819e984bdaaafd697f-25" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-25"></a><span class="kn">import</span><span class="w"> </span><span class="nn">glob</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-26" name="rest_code_e512481a158d4b819e984bdaaafd697f-26" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-26"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-27" name="rest_code_e512481a158d4b819e984bdaaafd697f-27" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-27"></a><span class="k">def</span><span class="w"> </span><span class="nf">markToNum</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="n">mark</span><span class="o">=</span><span class="s1">'XXXX'</span><span class="p">):</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-28" name="rest_code_e512481a158d4b819e984bdaaafd697f-28" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-28"></a>    <span class="n">num_as_string</span> <span class="o">=</span> <span class="s1">'0'</span> <span class="o">*</span> <span class="p">(</span><span class="mi">4</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-29" name="rest_code_e512481a158d4b819e984bdaaafd697f-29" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-29"></a>    <span class="k">return</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">mark</span><span class="p">,</span> <span class="n">num_as_string</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-30" name="rest_code_e512481a158d4b819e984bdaaafd697f-30" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-30"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-31" name="rest_code_e512481a158d4b819e984bdaaafd697f-31" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-31"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-32" name="rest_code_e512481a158d4b819e984bdaaafd697f-32" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-32"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-33" name="rest_code_e512481a158d4b819e984bdaaafd697f-33" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-33"></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-34" name="rest_code_e512481a158d4b819e984bdaaafd697f-34" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-34"></a>        <span class="nb">print</span> <span class="s2">"Modo de uso:"</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-35" name="rest_code_e512481a158d4b819e984bdaaafd697f-35" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-35"></a>        <span class="nb">print</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">" archivo.svg"</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-36" name="rest_code_e512481a158d4b819e984bdaaafd697f-36" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-36"></a>        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-37" name="rest_code_e512481a158d4b819e984bdaaafd697f-37" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-37"></a>    <span class="k">else</span><span class="p">:</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-38" name="rest_code_e512481a158d4b819e984bdaaafd697f-38" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-38"></a>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">as</span> <span class="nb">input</span><span class="p">:</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-39" name="rest_code_e512481a158d4b819e984bdaaafd697f-39" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-39"></a>            <span class="n">svg_content</span> <span class="o">=</span> <span class="nb">input</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-40" name="rest_code_e512481a158d4b819e984bdaaafd697f-40" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-40"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-41" name="rest_code_e512481a158d4b819e984bdaaafd697f-41" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-41"></a>        <span class="n">index_from</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_input</span><span class="p">(</span><span class="s1">'Desde [0]'</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-42" name="rest_code_e512481a158d4b819e984bdaaafd697f-42" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-42"></a>        <span class="n">number_by_page</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_input</span><span class="p">(</span><span class="s1">'Num por pagina [6]'</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">6</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-43" name="rest_code_e512481a158d4b819e984bdaaafd697f-43" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-43"></a>        <span class="n">grouped_by</span> <span class="o">=</span>  <span class="nb">int</span><span class="p">(</span><span class="n">raw_input</span><span class="p">(</span><span class="s1">'agrupar de a [20]'</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">20</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-44" name="rest_code_e512481a158d4b819e984bdaaafd697f-44" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-44"></a>        <span class="n">planchas</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">raw_input</span><span class="p">(</span><span class="s1">'Planchas [1]'</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">1</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-45" name="rest_code_e512481a158d4b819e984bdaaafd697f-45" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-45"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-46" name="rest_code_e512481a158d4b819e984bdaaafd697f-46" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-46"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-47" name="rest_code_e512481a158d4b819e984bdaaafd697f-47" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-47"></a>        <span class="k">for</span> <span class="n">plancha</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">planchas</span><span class="p">):</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-48" name="rest_code_e512481a158d4b819e984bdaaafd697f-48" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-48"></a>            <span class="n">counter_from</span> <span class="o">=</span> <span class="n">index_from</span> <span class="o">+</span> <span class="n">plancha</span><span class="o">*</span><span class="n">number_by_page</span><span class="o">*</span><span class="n">grouped_by</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-49" name="rest_code_e512481a158d4b819e984bdaaafd697f-49" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-49"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-50" name="rest_code_e512481a158d4b819e984bdaaafd697f-50" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-50"></a>            <span class="k">for</span> <span class="n">pagina</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">grouped_by</span><span class="p">):</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-51" name="rest_code_e512481a158d4b819e984bdaaafd697f-51" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-51"></a>                <span class="n">page_content</span> <span class="o">=</span> <span class="n">svg_content</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-52" name="rest_code_e512481a158d4b819e984bdaaafd697f-52" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-52"></a>                <span class="k">for</span> <span class="n">bono</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_by_page</span><span class="p">):</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-53" name="rest_code_e512481a158d4b819e984bdaaafd697f-53" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-53"></a>                    <span class="n">num_remplazo</span> <span class="o">=</span> <span class="n">counter_from</span> <span class="o">+</span> <span class="n">bono</span><span class="o">*</span><span class="n">grouped_by</span> <span class="o">+</span> <span class="n">pagina</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-54" name="rest_code_e512481a158d4b819e984bdaaafd697f-54" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-54"></a>                    <span class="n">page_content</span> <span class="o">=</span> <span class="n">markToNum</span><span class="p">(</span><span class="n">page_content</span><span class="p">,</span> <span class="n">num_remplazo</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-55" name="rest_code_e512481a158d4b819e984bdaaafd697f-55" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-55"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-56" name="rest_code_e512481a158d4b819e984bdaaafd697f-56" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-56"></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'temp.svg'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">output_svg</span><span class="p">:</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-57" name="rest_code_e512481a158d4b819e984bdaaafd697f-57" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-57"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-58" name="rest_code_e512481a158d4b819e984bdaaafd697f-58" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-58"></a>                    <span class="n">output_svg</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">page_content</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-59" name="rest_code_e512481a158d4b819e984bdaaafd697f-59" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-59"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-60" name="rest_code_e512481a158d4b819e984bdaaafd697f-60" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-60"></a>                <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s2">"inkscape"</span><span class="p">,</span> <span class="s2">"-f"</span><span class="p">,</span> <span class="s1">'temp.svg'</span><span class="p">,</span> <span class="s1">'--export-dpi=150'</span><span class="p">,</span> <span class="s1">'-A'</span><span class="p">,</span> <span class="s1">'temp</span><span class="si">%s</span><span class="s1">.pdf'</span> <span class="o">%</span> <span class="p">(</span><span class="s2">"0"</span><span class="o">*</span><span class="p">(</span><span class="mi">4</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pagina</span><span class="p">)))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pagina</span><span class="p">))</span> <span class="p">])</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-61" name="rest_code_e512481a158d4b819e984bdaaafd697f-61" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-61"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-62" name="rest_code_e512481a158d4b819e984bdaaafd697f-62" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-62"></a>            <span class="n">generator</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'gs'</span><span class="p">,</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-63" name="rest_code_e512481a158d4b819e984bdaaafd697f-63" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-63"></a>                         <span class="s1">'-q'</span><span class="p">,</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-64" name="rest_code_e512481a158d4b819e984bdaaafd697f-64" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-64"></a>                         <span class="s1">'-sPAPERSIZE=a4'</span><span class="p">,</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-65" name="rest_code_e512481a158d4b819e984bdaaafd697f-65" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-65"></a>                         <span class="s1">'-dNOPAUSE'</span><span class="p">,</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-66" name="rest_code_e512481a158d4b819e984bdaaafd697f-66" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-66"></a>                         <span class="s1">'-dBATCH'</span><span class="p">,</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-67" name="rest_code_e512481a158d4b819e984bdaaafd697f-67" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-67"></a>                         <span class="s1">'-sDEVICE=pdfwrite'</span><span class="p">,</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-68" name="rest_code_e512481a158d4b819e984bdaaafd697f-68" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-68"></a>                         <span class="s1">'-sOutputFile=</span><span class="si">%s</span><span class="s1">-</span><span class="si">%i</span><span class="s1">-</span><span class="si">%i</span><span class="s1">.pdf'</span> <span class="o">%</span> <span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">][:</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">counter_from</span><span class="p">,</span> <span class="n">num_remplazo</span><span class="p">),]</span> <span class="o">+</span> \
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-69" name="rest_code_e512481a158d4b819e984bdaaafd697f-69" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-69"></a>                        <span class="p">[</span><span class="s1">'temp</span><span class="si">%s</span><span class="s1">.pdf'</span> <span class="o">%</span> <span class="p">(</span><span class="s2">"0"</span><span class="o">*</span><span class="p">(</span><span class="mi">4</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pagina</span><span class="p">)))</span> <span class="o">+</span> \
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-70" name="rest_code_e512481a158d4b819e984bdaaafd697f-70" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-70"></a>                            <span class="nb">str</span><span class="p">(</span><span class="n">pagina</span><span class="p">))</span> <span class="k">for</span> <span class="n">pagina</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">grouped_by</span><span class="p">)]</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-71" name="rest_code_e512481a158d4b819e984bdaaafd697f-71" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-71"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-72" name="rest_code_e512481a158d4b819e984bdaaafd697f-72" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-72"></a>            <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">generator</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-73" name="rest_code_e512481a158d4b819e984bdaaafd697f-73" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-73"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-74" name="rest_code_e512481a158d4b819e984bdaaafd697f-74" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-74"></a>            <span class="k">for</span> <span class="n">temp</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">'temp*'</span><span class="p">):</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-75" name="rest_code_e512481a158d4b819e984bdaaafd697f-75" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-75"></a>                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-76" name="rest_code_e512481a158d4b819e984bdaaafd697f-76" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-76"></a>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-77" name="rest_code_e512481a158d4b819e984bdaaafd697f-77" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-77"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
<a id="rest_code_e512481a158d4b819e984bdaaafd697f-78" name="rest_code_e512481a158d4b819e984bdaaafd697f-78" href="posts/bonito-feito-pero-efectivo/#rest_code_e512481a158d4b819e984bdaaafd697f-78"></a>    <span class="n">main</span><span class="p">()</span>
</pre></div>
<p>Nada que no se pueda hacer con Bash, cierto, pero mucho más fácil de
escribir (y de leer).</p>
<p>De paso, acá está la plantilla, por si a alguno le sirve.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/django-dash-hace-una-aplicacion/" class="u-url">Django Dash: hacé una aplicación web en 2 dias</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/django-dash-hace-una-aplicacion/" rel="bookmark">
            <time class="published dt-published" datetime="2010-08-06T07:38:38-03:00" itemprop="datePublished" title="2010-08-06 07:38">2010-08-06 07:38</time></a>
            </p>
                <p class="commentline">        <a href="posts/django-dash-hace-una-aplicacion/#disqus_thread" data-disqus-identifier="cache/posts/django-dash-hace-una-aplicacion.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Leemos en <a class="reference external" href="http://djangodash.com/">la web</a></p>
<blockquote>
<p>The Django Dash is a chance for Django enthusiasts to flex their
coding skills a little and put a fine point on “perfectionists with
deadlines” by giving you a REAL deadline. 48 hours from start to
stop to produce the best app you can and have a little fun in the
process.</p>
</blockquote>
<p>Suena a <a class="reference external" href="http://pyweek.org">PyWeek</a>
[<a class="reference external" href="blog/article/django-dash-hace-una-aplicacion#nb1">1</a>], pero en 2
dias. ¿Será indicio de lo rápido que se programa con Django?</p>
<p>Atenti que la inscripción <strong>cierra el 8 de agosto</strong> (mañana).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/usando-pubsub-para-una-panel-de/" class="u-url">Usando PubSub para un panel de mensajes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/usando-pubsub-para-una-panel-de/" rel="bookmark">
            <time class="published dt-published" datetime="2010-08-03T12:56:55-03:00" itemprop="datePublished" title="2010-08-03 12:56">2010-08-03 12:56</time></a>
            </p>
                <p class="commentline">        <a href="posts/usando-pubsub-para-una-panel-de/#disqus_thread" data-disqus-identifier="cache/posts/usando-pubsub-para-una-panel-de.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>La aplicación que estoy desarrollando,
<a class="reference external" href="http://code.google.com/p/gpec2010">GPEC</a>, genera muchos mensajes que
pueden ser útiles para el usuario.</p>
<p>En softwares con <em>GUI’s</em> sencillas suele utilizarse la barra de estado
para mostrar mensajes contextuales e información sobre el resultado de
una acción. Pero si estos mensajes son muchos y de diversa índole, este
espacio puede no bastar, sobre todo por la volatilidad de la información
que la barra de estado muestra.</p>
<p>Una solución posible es usar un panel con un <code class="docutils literal">ListCtrl</code> de manera de
poder agregar los mensajes quedando un registro completo y cronológico;
un <em>log</em> propiamente dicho.</p>
<p><img alt="image0" src="images/mayavi2_logger-0f8f4.png">
Surge acá un detalle: si los mensajes se generan desde "cualquier parte"
del programa, todas esas "partes" deberían tener referencia de la
instancia del panel/widget de log.</p>
<p>Un ejemplo: todos las demostraciones de la aplicación de demo de
<a class="reference external" href="http://wxpython.org">wxPython</a> tienen la siguiente estructura:</p>
<pre class="literal-block">class TestPanel(wx.Panel):

    def __init__(self, parent, log):
        self.log = log
        wx.Panel.__init__(self, parent, -1)
        ...

        self.log.WriteText(' message ... ')</pre>
<p>Esto vuelve la aplicación muy acoplada: la instancia <code class="docutils literal">log</code> (que es un
caja de texto en el demo) se pasea por distintos <em>namespaces</em> para estar
disponible en todos lados.</p>
<p>Denotemos la falta de flexibilidad: ¿que pasa si queremos ’loggear’
mensajes desde un objeto donde no estaba previsto? ¿qué pasa si queremos
cambiar el widget que muestra los mensajes y el método para anexar
mensajes tiene otro nombre? ¿y si además de mostrarlos, con algunos los
mensajes queremos hacer alguna otra cosa (ejecutar un simple sonido de
alarma, por ejemplo) ?</p>
<section id="pubsub"><h2>PubSub</h2>
<p>Una manera más elegante y eficiente es utilizar
<a class="reference external" href="http://pubsub.sourceforge.net">PubSub</a> una implentación en Python del
paradigma de
<a class="reference external" href="http://en.wikipedia.org/wiki/Publish/subscribe">publicación-suscripción</a>.</p>
<figure class="align-center"><img alt="" src="posts/usando-pubsub-para-una-panel-de/local/cache-vignettes/L510xH357/pubsub_concept-47f35.png"></figure><aside class="system-message"><p class="system-message-title">System Message: WARNING/2 (<span class="docutils literal">&lt;string&gt;</span>, line 56)</p>
<p>Explicit markup ends without a blank line; unexpected unindent.</p>
</aside><p>Su implementación es trivial. Incluso viene incorporado dentro de
wxPython.</p>
<p>El <code class="docutils literal">Publisher</code> (generalmente importado como <code class="docutils literal">pub</code>) envía mensajes
(cualquier objeto python) asociados a un tópico (una cadena)</p>
<pre class="literal-block">from wx.lib.pubsub import Publisher as pub

pub.sendMessage('log', ('ok', 'Ready! You can send any message from anywhere.') )</pre>
<p>En este ejemplo, el tópico, que elegí arbritrariamente, es ’log’, y el
mensaje es la tupla
<code class="docutils literal">('ok', 'Ready! You can send any message from <span class="pre">anywhere.')</span></code></p>
<p>Del otro lado del mostrador, cualquiera puede suscribirse a los mensajes
con determinado tópico y asociarlos a un método/función.</p>
<pre class="literal-block">class LogMessagesPanel(wx.Panel):
    def __init__(self, parent, id):
        wx.Panel.__init__(self, parent, id)

        pub.subscribe(self.OnAppendLog, 'log')

    def OnAppendLog(self, msg):
        data = msg.data&lt;img105|center&gt;
        #do your things with the data!</pre>
<p><code class="docutils literal">pub.subscribe</code> <em>bindea</em> los mensajes con tópico <em>’log’</em> al método
OnAppendLog pasando un objeto <code class="docutils literal">msg</code>. Nuestro mensaje real, la tupla
que enviamos, está en <code class="docutils literal">msg.data</code></p>
<p>Nada impide que sean muchos los objetos que envien mensajes con tópico
<em>’log’</em> y muchos otros estén suscriptos a él. Y esto funciona sin
importar dónde ocurra cada cosa!
[<a class="reference external" href="blog/article/usando-pubsub-para-una-panel-de#nb1">1</a>].</p>
<p>Como ejemplo completo dejo el panel log. Podés probarlo creando otro
frame independiente que envie mensajes de log.</p>
<pre class="literal-block">#       Log Panel: example of PubSub implementation
#
#       Copyright 2010 Martin Gaitán &lt;gaitan(at)gmail.com&gt;
#
#       This program is free software; you can redistribute it and/or modify
#       it under the terms of the GNU General Public License as published by
#       the Free Software Foundation; either version 2 of the License, or
#       (at your option) any later version.
#
#       This program is distributed in the hope that it will be useful,
#       but WITHOUT ANY WARRANTY; without even the implied warranty of
#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#       GNU General Public License for more details.
#
#       You should have received a copy of the GNU General Public License
#       along with this program; if not, write to the Free Software
#       Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
#       MA 02110-1301, USA.


import wx
from wx.lib.pubsub import Publisher as pub
import time
import sys

from wx.lib.embeddedimage import PyEmbeddedImage

icons = {}
icons['ok'] = PyEmbeddedImage(
    "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAAXNSR0IArs4c6QAAAK5QTFRF"
    "AAAA////2vO/+P3z+f31VJkEVJcEU5UEUpQEcc0GcMsGcMkGb8gGbcYGbcQGbMEGZLYFXKYF"
    "UJAET48ETo0ETYwEasAGddALd9ANeNERetETe9IVfdIXfdMZftMbf9Mci9cwlNpAlttElttF"
    "l9xHmtxLm91NnN1Pnd1Rnt5ToN9Xod9ZpuFhp+FjqOFlquJnr+RyseR0veiKwuqSy+2j4PTI"
    "9vzv9/zxidYs3fPCGN7g1AAAAAF0Uk5TAEDm2GYAAAABYktHRACIBR1IAAAACXBIWXMAAAsT"
    "AAALEwEAmpwYAAAAB3RJTUUH2gcMBC0Irn+MQAAAAINJREFUGNNjYCAJ6Bui8vXkpAxQ+LJa"
    "ylx6CL6utKYGJyszkGVpAuZLaahzsYH4phYKxgwMOpJqatzsID6ThbIGt5G+hKoKDweIz8Ai"
    "YaGtIiOnrMIrxAwxjJlXXl1VSYlPmBlmPLOAuLIivwgzwkJzQV4xUWZkJ5mzi7CgOtqMBbcH"
    "AVouCiZO5Tf/AAAAAElFTkSuQmCC")

#----------------------------------------------------------------------
icons['error'] = PyEmbeddedImage(
    "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAAAAAAAD5Q7t/AAAA"
    "CXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1QsKCTIOk1O0sAAAAhpJREFUOMudk71Pk1EU"
    "xn/3bQvlo76gxBpNoGibArYLxJREh466MmnSgRH+IjsydGYjspBAWEQHMJIWmmhj+LAkpC1N"
    "Wyj2PcfhfUsQiRpPcnOTm/P8nuQ59xhuVA5SwDyQBsa95xKwDixlYOt6v7khfjscCi1MJpME"
    "w2F8AwOoKp2zM87LZYqFAtVmM5uBxd8AOXg3nUy+HJmZ4XJ7G+f0FBwHVUUMWEN38U9NUt3d"
    "5VOxuJqBVwC+rvN0Mvn6XixGe3MTbTRABFVBRUEEabboHHyjPxbDtqzoi2r1wTKsmBykhkOh"
    "98/m5rhYW0OdDqqKKqh6YgXFhakxBFMpPm9sUGu1Zi1gfjKR4HJnB3UcEFABFXEP6oEUVMFx"
    "uMjneTwWAZj3A+lg+D4/PnxERRkrf+dPtW/fQao1Ag8fAaT9wLjVP4iKG9jfSkRR7WB6AgDj"
    "FnCV9r8A8PpUBQA/UOrUzyYUg6rDl5ERt0HEvVE3PDdVRN0gtdkCKFnA+vnJCcYeuiL/Iu46"
    "iidWwRocpF2rAaxbwNL+3h6BeNwly3WRNzrtTkNQY/BHIpQODwGWrAxs1VqtbKWQp2fqqQu5"
    "5op3qygYQ080RuPggHq7nc3Alg9gGVaeVyqzts8XHUgkcBoN5KJ99RMVMHaI3vgEjXKZwvHx"
    "agbe3LpMdl/fwpPRUQK2jentRUVwmk069Tpfj466zou3buP/rPNPwkdmHrlYdncAAAAASUVO"
    "RK5CYII=")

#----------------------------------------------------------------------
icons['info'] = PyEmbeddedImage(
    "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAAAAAAAD5Q7t/AAAA"
    "CXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1QMCBiAyOlCc9wAAADV0RVh0Q29tbWVudAAo"
    "YykgMjAwNCBKYWt1YiBTdGVpbmVyCgpDcmVhdGVkIHdpdGggVGhlIEdJTVCQ2YtvAAACq0lE"
    "QVQ4y5WSS0hUcRTGv//cO+O9OtdHJllqZlI+CEUiE8ShBiXUpKKQbGLKcGG0CBOyRcsQMapF"
    "j02ii4igAgMDJcgQSXQmSkrNijSVTJ1xdJy5d6739W/loDURfqtz4Pt+nHM4BBFUXNnUTCkc"
    "BiUpIISYiDHLEPq0/2Vr459edn1TVN6UwTCk72JtZVq5vQBxAg9VN+DxBVN7ej9cISbmLKV6"
    "SX9X69eIAJYlb++11G/fk7ljLBBSRmd9khJaVVlF06NtJflZ6enJe1tuPXYBiF/LMGtFSdXV"
    "2/Xnj5YVH8z5rKi6m7eYFQBEpyCqTg3vSmiWi+YQzXM7dSYlc3L8bScAmMIkhj1Xbi9AIKSO"
    "sSxDLWbGIIRQUBiabiiUwuganOwuKswBw3Kn1nJhwKpC4wUrD1nRV1XNSDQzpguJsZxzV7Lg"
    "yN+91QElkDrlEf08zyEgqVxtXYNpww0IIUTRdEiyajIMKiZYo+D1Sy5RCjErQUkbnpaGFUU3"
    "qaqxFuEBiGFADM9KXl8gRpRVy4qk+jOSYzH6w/deVHQ6tyQp7m+LHsFqSfD6g4gTeLWjrVnc"
    "sIKZ0QZ63gyDj2JzJ34tiwDw0yfqHye8/t7hmYUlUTZX7E+rGHKNwcph4q8bbBNCxzu7+uWZ"
    "6fnstCTroWvtAzfPHM665P4yH2JYkui0Z1X7F5dy3IMjqsD6SsOrr/+DY6cbq2QqPC8rLbIU"
    "HshGNM9B1XX4lkUMucbxzjWixXHS5SftNx5EBABAbV1DYohucQVkpDtOJDGEACwLdHXPBRnN"
    "v6+j7c4U/qeaGrvV6bRRz2IfFWUX/T75jDqdNhrJy/6DoQLA/bsPkZ2bjempaWxaTqeNzsy+"
    "MgLSEP00+sLY7AQAUFV98nqNIMQfWVhYeJ2XF/sokuk3Vkw2XnyKHQQAAAAASUVORK5CYII=")

#----------------------------------------------------------------------
icons['warning'] = PyEmbeddedImage(
    "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAA"
    "CXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1gIQDictt+6SdwAAAehJREFUOMuVk8FKG2EU"
    "hb87mc40iTODEJlK7UZDxCCGQUqaMASCSGODdBe6ECJddOcwG/EJXBt0ZcBCwEVJVgWtr1AI"
    "PoBQXAQKhRZc1EBJMX831hLItPbAvYvL4Ttnc4UIhfDIgLcAA3jdgC/jfHoUwISjeXgOcAFH"
    "QHWcT4tI91KwWlhY0J6kUloKVkPw7g0wYS8NemJ3l0yzSRp0E/buBQihOAXFbLksej6Pns+T"
    "LZdlCoohFPmXdqB7AsNep6M8z1Oe56lep6NOYLgD3b82CGHFhaWM74vh+ziOg+M4GL5PxvfF"
    "haUQViIBJuxnwUgEAaJpWJaFZVmIppEIArJgmLA/FhDC+jSk5woFjFIJEcG2bWzbRkQwSiXm"
    "CgWmIR3C+gggBDGgsXibruk6IvKngQiarpMIAhbBMKARgsDtCuHVLLReLC8bk2dnEIuhlKLf"
    "7wOQTCYREbi54WptjQ/n54NLqDfgnYQQewxXT8GaPz7mYbWKUgqlFLVaDYB2u42IICL8OD3l"
    "YmODLnz/DJOawGYczJlcjnilcmcUEVzXxXXdkVu8UmEmlyMOpsCmbMPXl5CaPThgol6/S/89"
    "wAhARLhutbjc2uI9fJNDGD4DecD/6SfwEZT+CQ4H8GYi4i+idA3DHjR/AZfefQgctOETAAAA"
    "AElFTkSuQmCC")

class LogMessagesPanel(wx.Panel):
    def __init__(self, parent, id):
        wx.Panel.__init__(self, parent, id)

        self.list = wx.ListCtrl(self, -1,  style=  wx.LC_REPORT|wx.SUNKEN_BORDER)

        self.setupList()

        sizer = wx.BoxSizer()
        sizer.Add(self.list, 1, wx.EXPAND)
        self.SetSizerAndFit(sizer)

        pub.subscribe(self.OnAppendLog, 'log')

    def setupList(self):
        """sets columns and append a imagelist """

         #setup first column (which accept icons)
        info = wx.ListItem()
        info.m_mask = wx.LIST_MASK_TEXT | wx.LIST_MASK_IMAGE | wx.LIST_MASK_FORMAT
        info.m_image = -1
        info.m_format = 0
        info.m_text = "Message"
        self.list.InsertColumnInfo(0, info)
        self.list.SetColumnWidth(0, 550)

        #insert second column
        self.list.InsertColumn(1, 'Time')
        self.list.SetColumnWidth(1, 70)

        #setup imagelist and an associated dict to map status-&gt;image_index
        imgList = wx.ImageList(16, 16)


        self.icon_map = {}
        for key, bitmap in icons.iteritems():
            indx = imgList.Add( bitmap.GetBitmap() )
            self.icon_map[key] = indx
        self.list.AssignImageList(imgList, wx.IMAGE_LIST_SMALL)

    def OnAppendLog(self, msg):
        ico = self.icon_map[msg.data[0]]
        message = msg.data[1]
        index = self.list.InsertImageStringItem(sys.maxint, message, ico)
        self.list.SetStringItem(index, 1, time.strftime('%H:%M:%S'))

        self.list.EnsureVisible(index) #keep scroll at bottom

class TestFrame(wx.Frame):
    def __init__(self, parent, id):
        wx.Frame.__init__(self, parent, id, "Log Panel demo")
        self.log = LogMessagesPanel(self, -1)
        self.SetSize((620,150))
        self.SetMinSize((620,150))

if __name__ == "__main__":

    app = wx.PySimpleApp(0)
    wx.InitAllImageHandlers()
    main_frame = TestFrame(None, -1)
    app.SetTopWindow(main_frame)
    main_frame.Show()

    pub.sendMessage('log', ('ok', 'Ready! You can send any message from anywhere.') )
    pub.sendMessage('log', ('info', "Just import pubsub.Publisher and send a 'log' message") )
    pub.sendMessage('log', ('warning', "The message data is a tuple ('icon', 'message') ") )</pre>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/mantener-el-scroll-vertical-de-wx/" class="u-url">Mantener el scroll vertical de wx.ListCtrl abajo</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/mantener-el-scroll-vertical-de-wx/" rel="bookmark">
            <time class="published dt-published" datetime="2010-07-13T07:31:58-03:00" itemprop="datePublished" title="2010-07-13 07:31">2010-07-13 07:31</time></a>
            </p>
                <p class="commentline">        <a href="posts/mantener-el-scroll-vertical-de-wx/#disqus_thread" data-disqus-identifier="cache/posts/mantener-el-scroll-vertical-de-wx.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Un típico uso de un <code class="docutils literal">ListCtrl</code> es usarlo para mostrar un Log de la
aplicación que muestra mensajes al usuario, similar a lo que puede hacer
la barra de estada, pero con la ventaja (complementaria, si se quiere),
de mantener un historial de los eventos ocurridos.</p>
<figure class="align-center"><img alt="" src="posts/mantener-el-scroll-vertical-de-wx/local/cache-vignettes/L510xH114/log-4afe3.jpg"></figure><aside class="system-message"><p class="system-message-title">System Message: WARNING/2 (<span class="docutils literal">&lt;string&gt;</span>, line 9)</p>
<p>Explicit markup ends without a blank line; unexpected unindent.</p>
</aside><p>En tal caso, primero, hay una decisión de diseño que hacer: ¿los nuevos
mensajes se agregan al inicio (como un blog) o al final de la lista
(como los comentarios) ?</p>
<p>No sé si existe una respuesta canónica a la cuestión, pero infiriendo
(de los pelos) el sentido de lectura occidental (de izquierda a derecha
y de arriba hacia abajo) decidí que "un nuevo contenido" debe estar
abajo del anterior.</p>
<p>Eso trae aparejado un nuevo problema: si se agrega un nuevo item a
ListCtrl al final y ya hay más de los que caben en el espacio visible
del control, el último (el más importante) no se verá en pantalla y el
usuario debería hacer un scroll hasta el final para verlo. Es decir,
para un panel de Log, el scroll vertical siempre debería mantenerse
abajo.</p>
<p>Por suerte no hay que liarse con generar eventos programaticamente, ni
manipular el scroll, ni obtener dimensiones del widget. He aquí una
solución <em>"fits your brain"</em>: el método
<a class="reference external" href="http://www.wxpython.org/docs/api/wx.ListCtrl-class.html">EnsureVisible(index)</a></p>
<p>Por ejemplo:</p>
<pre class="literal-block">def OnAppendLog(self, msg):
    ico = self.icon_map[msg.data[0]]
    message = msg.data[1]
    index = self.list.InsertImageStringItem(sys.maxint, message, ico)
    self.list.SetStringItem(index, 1, time.strftime('%H:%M:%S'))

    self.list.EnsureVisible(index) #keep scroll at bottom</pre>
    </div>
    </article>
</div>
        <ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-9.html" rel="prev">Posts posteriores</a></li>
            <li class="next"><a href="index-7.html" rel="next">Posts anteriores</a></li>
        </ul>
<script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2025         <a href="mailto:gaitan@gmail.com">Martín Gaitán</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js" integrity="sha256-ULQV01VS9LCI2ePpLsmka+W0mawFpEA0rtxnezUj4A4=" crossorigin="anonymous"></script><script src="assets/js/all.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
    (function() {
        var storageKey = 'theme-mode';
        var toggle = document.getElementById('theme-toggle');
        if (!toggle) return;
        var prefersDark = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;
        var modes = ['auto', 'light', 'dark'];

        function savedMode() {
            var stored = localStorage.getItem(storageKey);
            if (modes.indexOf(stored) !== -1) {
                return stored;
            }
            return 'auto';
        }

        function resolvedTheme(mode) {
            if (mode === 'light' || mode === 'dark') return mode;
            return prefersDark && prefersDark.matches ? 'dark' : 'light';
        }

        function labels(mode, resolved) {
            if (mode === 'auto') {
                return {
                    aria: "Tema: Automático (sistema). Click para pasar a claro.",
                    next: 'light'
                };
            }
            if (mode === 'light') {
                return {
                    aria: "Tema: Claro. Click para pasar a oscuro.",
                    next: 'dark'
                };
            }
            return {
                aria: "Tema: Oscuro. Click para pasar a automático.",
                next: 'auto'
            };
        }

        function apply(mode) {
            var resolved = resolvedTheme(mode);
            document.body.setAttribute('data-theme', resolved);
            document.body.setAttribute('data-theme-mode', mode);
            toggle.dataset.mode = mode;
            var label = labels(mode, resolved);
            toggle.setAttribute('aria-pressed', resolved === 'dark');
            toggle.setAttribute('aria-label', label.aria);
            toggle.setAttribute('title', label.aria);
        }

        function setMode(mode) {
            localStorage.setItem(storageKey, mode);
            apply(mode);
        }

        apply(savedMode());

        toggle.addEventListener('click', function() {
            var current = document.body.getAttribute('data-theme-mode') || savedMode();
            var next = labels(current).next;
            setMode(next);
        });

        if (prefersDark && prefersDark.addEventListener) {
            prefersDark.addEventListener('change', function() {
                if (savedMode() === 'auto') {
                    apply('auto');
                }
            });
        }
    })();
    </script><script src="assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un día",
               days: "%d días",
               month: "un mes",
               months: "%d meses",
               year: "un año",
               years: "%d años"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51074482-1', 'mgaitan.github.io');
      ga('send', 'pageview');

    </script>
</body>
</html>
