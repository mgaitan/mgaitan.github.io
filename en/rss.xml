<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>tin_nqn</title><link>https://mgaitan.github.io/</link><description>&gt;&gt;&gt; me.geek.post()</description><atom:link href="https://mgaitan.github.io/en/rss.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents ¬© 2025 &lt;a href="mailto:gaitan@gmail.com"&gt;Mart√≠n Gait√°n&lt;/a&gt; </copyright><lastBuildDate>Sat, 27 Dec 2025 02:41:05 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Lobstersgram, a fast lobste.rs client on Telegram</title><link>https://mgaitan.github.io/en/posts/lobstersgram-cliente-rapido-lobsters/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div&gt;&lt;p&gt;Lobsters (&lt;a href="https://lobste.rs"&gt;lobste.rs&lt;/a&gt;) is probably my main source&lt;sup id="fnref:1"&gt;&lt;a class="footnote-ref" href="https://mgaitan.github.io/en/posts/lobstersgram-cliente-rapido-lobsters/#fn:1"&gt;1&lt;/a&gt;&lt;/sup&gt; of tech reading: it is a human-curated feed that prioritizes content quality, with no shady clickbait, abusive ads, or hostile comments. Even though I am not a member (it requires an &lt;a href="https://lobste.rs/about#invitations"&gt;invitation&lt;/a&gt;), I strongly identify with its &lt;a href="https://lobste.rs/about"&gt;"old internet" spirit&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Yesterday, mostly via ChatGPT on my phone, I built Lobstersgram, a bot that works as a fast Lobste.rs client on Telegram.&lt;/p&gt;
&lt;p&gt;Every now and then, if the bot detects new posts, it sends you a short message with an intro and a link to the article copied to &lt;a href="https://telegra.ph"&gt;telegra.ph&lt;/a&gt;, plus the original source link and the discussion thread on the forum. Why republish on Telegraph? Because it supports &lt;a href="https://instantview.telegram.org/"&gt;instant view&lt;/a&gt;, which allows preloading the content with a simple, consistent style that is ideal for mobile reading.&lt;/p&gt;
&lt;p&gt;If you have Telegram, you can try it at &lt;a href="https://t.me/lobstersgram_bot"&gt;@lobstersgram_bot&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Commands:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/start&lt;/code&gt; to subscribe&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/unsubscribe&lt;/code&gt; to stop receiving&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(Note: it only runs every 2 hours, so it will reply eventually, but do not expect immediacy.)&lt;/p&gt;
&lt;p&gt;Here is a demo I recorded capturing my phone screen (with a notification from the family group included).&lt;/p&gt;
&lt;iframe height="660" width="355" src="https://www.youtube.com/embed/wdzIBFYjJ3Y" title="Lobstergram demo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/lobstersgram-cliente-rapido-lobsters/"&gt;Read more‚Ä¶&lt;/a&gt; (5 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>github-actions</category><category>lobsters</category><category>python</category><category>rss</category><category>telegra.ph</category><category>telegram</category><guid>https://mgaitan.github.io/en/posts/lobstersgram-cliente-rapido-lobsters/</guid><pubDate>Sat, 27 Dec 2025 02:02:16 GMT</pubDate></item><item><title>My opinionated scaffolding for modern Python projects</title><link>https://mgaitan.github.io/en/posts/opinionated-python-project-scaffolding/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div&gt;&lt;p&gt;Python is a pragmatic programming language and asks for very little to get started. A text file with valid code, conventionally ending in &lt;code&gt;.py&lt;/code&gt; and forming a ‚Äúmodule‚Äù in Python jargon, is already a small program (a script); we run it with &lt;code&gt;python &amp;lt;file&amp;gt;&lt;/code&gt; and we are done. But when that simple piece of code needs to grow into more files or deserves to be distributed ‚Äîmaybe because it will be a dependency of another project or simply because someone else might benefit‚Äî then it needs some structure and metadata.&lt;/p&gt;
&lt;p&gt;That is not exclusive to Python: when you start a software project there is always a basic set of files and structures that serve as a starting point; the minimum set of files, folders, configs, and "basic" code you need when you want to share code as an app or library: the project boilerplate. The boilerplate does not define logic, but it does lay the technical foundation‚Äîoften based on conventions and sometimes on personal taste‚Äîon which everything else will be built.&lt;/p&gt;
&lt;p&gt;This article details the decisions I made for the template and automated scaffolding I created for my projects, based on &lt;a href="https://copier.readthedocs.io/en/stable/"&gt;Copier&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In short:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;üêç Modern Python package (3.12+)&lt;/li&gt;
&lt;li&gt;üì¶ Build and dependency management with &lt;a href="https://docs.astral.sh/uv/"&gt;uv&lt;/a&gt;, split by groups (dev/qa/docs)&lt;/li&gt;
&lt;li&gt;üßπ Linting and formatting via &lt;a href="https://docs.astral.sh/ruff/"&gt;Ruff&lt;/a&gt; with a broad set of rules enabled&lt;/li&gt;
&lt;li&gt;‚úÖ Type checking via &lt;a href="https://github.com/astral-sh/ty"&gt;ty&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;üß™ Tests with &lt;a href="https://docs.pytest.org/en/stable/"&gt;pytest&lt;/a&gt;, &lt;a href="https://coverage.readthedocs.io/en/latest/"&gt;coverage.py&lt;/a&gt; and extensions&lt;/li&gt;
&lt;li&gt;üìö Docs with &lt;a href="https://www.sphinx-doc.org/en/master/"&gt;Sphinx&lt;/a&gt;, &lt;a href="https://myst-parser.readthedocs.io/en/stable/"&gt;MyST&lt;/a&gt; and a few extensions, deployed to &lt;a href="https://pages.github.com/"&gt;GitHub Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ü§ñ GitHub project creation automated through &lt;a href="https://cli.github.com/"&gt;GitHub CLI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;‚öôÔ∏è CI workflow on &lt;a href="https://github.com/features/actions"&gt;GitHub Actions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;üöÄ Automated releases via &lt;a href="https://docs.pypi.org/trusted-publishers/creating-a-project-through-oidc/"&gt;Trusted Publishing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;üß† Sensible defaults via introspection to minimize answers in the initial questionnaire&lt;/li&gt;
&lt;li&gt;üõ†Ô∏è Makefile with shortcuts for common tasks&lt;/li&gt;
&lt;li&gt;üìÑ Generation of generic docs such as LICENSE/CODE_OF_CONDUCT/AGENTS.md, etc.&lt;/li&gt;
&lt;li&gt;üåÄ Initial setup of the development environment and git repo&lt;/li&gt;
&lt;li&gt;‚ôªÔ∏è Projects updatable with &lt;a href="https://copier.readthedocs.io/en/stable/updating/"&gt;&lt;code&gt;copier update&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And a bunch more details I am surely forgetting.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/opinionated-python-project-scaffolding/"&gt;Read more‚Ä¶&lt;/a&gt; (10 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>ci</category><category>copier</category><category>docs</category><category>python</category><category>tooling</category><category>uv</category><guid>https://mgaitan.github.io/en/posts/opinionated-python-project-scaffolding/</guid><pubDate>Mon, 08 Dec 2025 21:30:00 GMT</pubDate></item><item><title>Expanding the Python universe with Rust</title><link>https://mgaitan.github.io/en/posts/expanding-the-python-universe-with-rust/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div&gt;&lt;p&gt;My wife Natalia, among many &lt;a href="https://www.instagram.com/natinadibuja/"&gt;other talents she has&lt;/a&gt;, is a German-to-Spanish translator and, besides freelancing, works as a researcher and lecturer at the Universidad Nacional de C√≥rdoba, Argentina.&lt;/p&gt;
&lt;p&gt;Probably because foreign languages are almost as hard for me as dancing or singing (sorry to my colleagues who have had--and will have--to suffer through my spoken English), I have deep admiration for polyglots. Not for the mere ability to swap words or produce more vowel sounds, but for the power to know and feel different universes. That is what &lt;a href="https://borgestodoelanio.blogspot.com/2017/01/jorges-luis-borges-el-oficio-de-traducir.html"&gt;Jorge L. Borges was complaining about&lt;/a&gt; when someone mangled one of his tales with a translation:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;According to dictionaries, languages are repertoires of synonyms, but they are not. Bilingual dictionaries make you believe that every word in one language can be replaced by another word in a different language. The mistake is ignoring that each language is a way of feeling the universe.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I extrapolate that admiration for polyglotism--the art of widening your vital universe--to people who know many programming languages deeply. They bring ideas from one universe to the next, bursting bubbles, prejudices, blind spots. They propose new ways and limits, taking inspiration from here to create over there. Python would not exist without that kind of people. Long live those "Marco Polos" who connect universes.&lt;/p&gt;
&lt;p&gt;Since I'm ambitious (but not quite dedicated enough) to open a small window into the Rust universe, I compensate for my slowness and distraction with tools and shortcuts.&lt;/p&gt;
&lt;p&gt;This is a simple way to expand my Python universe with a "Marco Polo" who knows the Rust world and can open a window to that &lt;a href="https://crates.io/"&gt;other realm full of possibilities&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/expanding-the-python-universe-with-rust/"&gt;Read more‚Ä¶&lt;/a&gt; (6 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>bindings</category><category>maturin</category><category>pyo3</category><category>python</category><category>rust</category><guid>https://mgaitan.github.io/en/posts/expanding-the-python-universe-with-rust/</guid><pubDate>Sun, 07 Dec 2025 17:15:23 GMT</pubDate></item><item><title>How to use WhisperX in Google Colab (2025)</title><link>https://mgaitan.github.io/en/posts/whisperx-tutorial/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div class="cell border-box-sizing text_cell rendered"&gt;&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://github.com/m-bain/whisperX"&gt;WhisperX&lt;/a&gt; is an advanced speech-recognition pipeline built on top of Whisper, OpenAI's open-source ASR model. It runs on PyTorch, and while it can operate on a CPU, performance is significantly enhanced with a CUDA-compatible GPU (i.e., NVIDIA). WhisperX improves upon the original model with more accurate and faster alignment, support for larger models, and optional speaker diarization. The result is high-quality transcriptions with precise word-level timestamps and clear speaker identification, and it claims to be up to 70x faster than the original model.&lt;/p&gt;
&lt;p&gt;My laptop doesn't have a GPU with CUDA support, so I run WhisperX on Google Colab, and this is a short tutorial on how I set it up and use it in this cloud environment.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/whisperx-tutorial/"&gt;Read more‚Ä¶&lt;/a&gt; (368 min remaining to read)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</description><category>asr</category><category>google colab</category><category>speech-to-text</category><category>tutorial</category><category>whisperx</category><guid>https://mgaitan.github.io/en/posts/whisperx-tutorial/</guid><pubDate>Wed, 03 Dec 2025 13:15:20 GMT</pubDate></item><item><title>textual-tetris, a Tetris in the terminal</title><link>https://mgaitan.github.io/en/posts/textual-tetris/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div&gt;&lt;p&gt;Since I &lt;a href="https://x.com/tin_nqn_/status/1978823177837912528"&gt;remain unemployed&lt;/a&gt; while prioritizing my search for mental health, I spend my nerdy time on two worthwhile tasks:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Collaborating with organizations that need technological solutions but do not have the budget to compete in the market for my skills.&lt;/li&gt;
&lt;li&gt;The one relevant to this post: learning new things by implementing old ideas from the permanent &lt;code&gt;TO DO&lt;/code&gt; list I &lt;a href="https://github.com/mgaitan/mgaitan/issues"&gt;keep here&lt;/a&gt;, the ones I almost never found time for.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This time I wanted to learn a bit about &lt;a href="https://textual.textualize.io/"&gt;Textual&lt;/a&gt; (the elder sibling of &lt;a href="https://rich.readthedocs.io/en/stable/"&gt;rich&lt;/a&gt;), an excellent Python framework for building &lt;a href="https://en.wikipedia.org/wiki/Text-based_user_interface"&gt;text-based users interfaces&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And while I was at it, I learned how to make a Tetris clone that is pretty decent to play, does not look &lt;em&gt;that&lt;/em&gt; ugly, and &lt;a href="https://github.com/mgaitan/textual-tetris/blob/392744f6275160e5b8512e7f9f76b3a2e388fb4a/textris.py"&gt;currently sits at under 600 lines of Python code&lt;/a&gt;, comments included. It looks like this:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://mgaitan.github.io/images/textual-tetris.png"&gt;&lt;/p&gt;
&lt;p&gt;But a taste is worth more than a thousand screenshots: open a terminal and, if you have &lt;a href="https://docs.astral.sh/uv/"&gt;uv&lt;/a&gt; installed (you should!), run:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code literal-block"&gt;&lt;span class="go"&gt;uvx textual-tetris&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And you are already playing Tetris!&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/textual-tetris/"&gt;Read more‚Ä¶&lt;/a&gt; (7 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>games</category><category>python</category><category>terminal</category><category>textual</category><guid>https://mgaitan.github.io/en/posts/textual-tetris/</guid><pubDate>Tue, 25 Nov 2025 01:38:00 GMT</pubDate></item><item><title>Easter eggs in your code with invisible text</title><link>https://mgaitan.github.io/en/posts/easter-eggs-with-invisible-text/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div&gt;&lt;p&gt;According to (spanish) Wikipedia, &lt;a href="https://es.wikipedia.org/wiki/Huevo_de_Pascua_(virtual)"&gt;an "easter egg" is&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;... is a hidden message or capability embedded in movies, television series, ..., software programs, or video games. Among programmers, there seems to be a drive to leave a personal mark, almost an artistic touch on an intellectual product that is by nature standard and functional. These days, Easter eggs aim to entertain, seek new job opportunities, pay tribute to executives, or amuse programmers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I have no idea who convinced that gullible Wikipedian that software is "standard and functional", but it is true that the urge for software Easter eggs is almost as old as software itself.&lt;/p&gt;
&lt;p&gt;Here is a technique I discovered back in kindergarten, when we would draw with lemon juice so that later, magically, the scribble would be revealed by the teacher's lighter (she was probably smoking in the blocks' corner).&lt;/p&gt;
&lt;p&gt;So let‚Äôs see how to write invisible (digital) text: lemon juice‚Äôs Unicode counterpart.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/easter-eggs-with-invisible-text/"&gt;Read more‚Ä¶&lt;/a&gt; (2 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>easter-egg</category><category>gist</category><category>humor</category><guid>https://mgaitan.github.io/en/posts/easter-eggs-with-invisible-text/</guid><pubDate>Fri, 31 Oct 2025 20:18:17 GMT</pubDate></item><item><title>Ignoring git changes locally</title><link>https://mgaitan.github.io/en/posts/ignoring-changes-in-git-locally/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div&gt;&lt;p&gt;It is well known that in a git repository we can use a &lt;a href="https://git-scm.com/docs/gitignore"&gt;&lt;code&gt;.gitignore&lt;/code&gt;&lt;/a&gt; file to skip tracking files we do not want to push to the remote repository. If a file matches a &lt;code&gt;.gitignore&lt;/code&gt; pattern, it will not appear in &lt;code&gt;git status&lt;/code&gt; when you want to add its changes to a commit.&lt;/p&gt;
&lt;p&gt;They are typically used to ignore directories where dependencies are installed (e.g. the virtualenv for Python projects, usually found in &lt;code&gt;.venv&lt;/code&gt;), temporary files generated by the interpreter or compiler, IDE-specific files, and so on.&lt;/p&gt;
&lt;p&gt;They are so common that GitHub offers &lt;a href="https://github.com/github/gitignore"&gt;gitignore templates&lt;/a&gt; curated for different programming languages, and tools such as &lt;a href="https://docs.astral.sh/uv/concepts/projects/init/"&gt;uv init&lt;/a&gt; generate a basic &lt;code&gt;.gitignore&lt;/code&gt; as part of the boilerplate.&lt;/p&gt;
&lt;p&gt;A &lt;code&gt;.gitignore&lt;/code&gt; is part of the project (it is committed), and it is important to keep it in the repository so that every collaborator shares the same configuration.&lt;/p&gt;
&lt;p&gt;But what if we want to ignore files only locally?&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/ignoring-changes-in-git-locally/"&gt;Read more‚Ä¶&lt;/a&gt; (1 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>git</category><category>gitignore</category><category>til</category><guid>https://mgaitan.github.io/en/posts/ignoring-changes-in-git-locally/</guid><pubDate>Fri, 31 Oct 2025 17:19:23 GMT</pubDate></item><item><title>An automatic cheatsheet for your Typer CLI</title><link>https://mgaitan.github.io/en/posts/an-automatic-cheatsheet-for-your-typer-cli/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div&gt;&lt;p&gt;&lt;a href="https://typer.tiangolo.com/"&gt;Typer&lt;/a&gt; is an excellent CLI framework from the same author who created &lt;a href="https://fastapi.tiangolo.com/"&gt;FastAPI&lt;/a&gt;. It allows you to create robust and intuitive command-line interfaces based on annotations on function arguments.&lt;/p&gt;
&lt;p&gt;Without doing anything, it offers autocompletion and command-line help, which also looks very nice as it is based on &lt;a href="https://rich.readthedocs.io/"&gt;rich&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It also easily allows you to register command groups and subcommands, which facilitates the organization and maintenance of large applications. But what happens when your application grows, with multiple subcommands, groups, and nested options?&lt;/p&gt;
&lt;p&gt;For users (or even for yourself after a while!), it can be a challenge to remember all the available commands, their functions, and how they interact. Integrated help and documentation are key, but &lt;strong&gt;wouldn't it be great to have a live "map" of your application, directly accessible from the terminal?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is where &lt;a href="https://github.com/mgaitan/typer-cheatsheet-command"&gt;typer-cheatsheet-command&lt;/a&gt; comes in!&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/an-automatic-cheatsheet-for-your-typer-cli/"&gt;Read more‚Ä¶&lt;/a&gt; (1 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>cli</category><guid>https://mgaitan.github.io/en/posts/an-automatic-cheatsheet-for-your-typer-cli/</guid><pubDate>Thu, 30 Oct 2025 22:18:39 GMT</pubDate></item><item><title>Automatic dependencies management for Python scripts with autopep723</title><link>https://mgaitan.github.io/en/posts/automatic-dependencies-management-python-scripts-autopep723/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;div&gt;&lt;p&gt;Have you ever wished you could run a Python script without worrying about installing its dependencies first?&lt;/p&gt;
&lt;p&gt;We've all been there. You need to hack a small piece of code, maybe your LLM friend gives you a useful Python script you want to try, or you found something on Stack Overflow (God rest its soul) or gist. But if you try to run it directly:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code literal-block"&gt;&lt;span class="ne"&gt;ModuleNotFoundError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;No&lt;/span&gt; &lt;span class="n"&gt;module&lt;/span&gt; &lt;span class="n"&gt;named&lt;/span&gt; &lt;span class="s1"&gt;'your_experiment_dependency'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then begins the bureaucracy of checking which packages you need, with the aggravating factor that many times the name with which it is installed does not correspond to the name that is imported, dealing with version conflicts and overloading your environment.&lt;/p&gt;
&lt;p&gt;If everyone agrees that Python is a pragmatic and elegant language that's ideal for scripts, why does this part have to be complicated?&lt;/p&gt;
&lt;p&gt;&lt;a href="https://mgaitan.github.io/en/posts/automatic-dependencies-management-python-scripts-autopep723/"&gt;Read more‚Ä¶&lt;/a&gt; (3 min remaining to read)&lt;/p&gt;&lt;/div&gt;</description><category>automation</category><category>dependencies</category><category>pep723</category><category>python</category><category>uv</category><guid>https://mgaitan.github.io/en/posts/automatic-dependencies-management-python-scripts-autopep723/</guid><pubDate>Fri, 25 Jul 2025 11:00:00 GMT</pubDate></item><item><title>Animated SVGs for your CLI program demos</title><link>https://mgaitan.github.io/en/posts/animated-svgs-for-your-cli-program-demos/</link><dc:creator>Mart√≠n Gait√°n</dc:creator><description>&lt;p&gt;Want to show off how cool your command-line program is with a demo of real-world usage? Want to avoid your demo easily becoming outdated? Want to include the demo on sites that don't allow videos or JavaScript, like GitHub or Pypi &lt;code&gt;README&lt;/code&gt; files?&lt;/p&gt;
&lt;p&gt;Animated SVGs generated programmatically are the solution! They are embedded like a normal image but are lighter than GIFs, play automatically on the same page, don't require JavaScript, and keep the text sharp regardless of zoom.&lt;/p&gt;
&lt;p&gt;Plus, automating your demos gives you total control and lets you programmatically regenerate the visual result when the CLI changes or you want to make changes.&lt;/p&gt;
&lt;p&gt;As an example, here's a demo of a little program I made recently called &lt;a href="https://github.com/mgaitan/cuitonline"&gt;cuitonline&lt;/a&gt; which looks like this for its 0.1 version:&lt;/p&gt;
&lt;p align="center"&gt;
&lt;img width="90%" src="https://raw.githubusercontent.com/mgaitan/cuitonline/refs/tags/0.1/demo/usage.svg"&gt;
&lt;/p&gt;

&lt;h3&gt;How do we do it?&lt;/h3&gt;
&lt;p&gt;We're going to use the following tools, all open source.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href="https://github.com/veracioux/tuterm"&gt;tuterm&lt;/a&gt;&lt;/strong&gt;: It's a bash tool for creating demos of CLI programs. You define a "script" (in the best sense of the word) that lets you control the commands that are executed (for real!) in the console, what comment to show, and what other auxiliary commands to run.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;uvx&lt;/strong&gt;: It's the equivalent of &lt;code&gt;pipx&lt;/code&gt; for &lt;a href="https://github.com/astral-sh/uv"&gt;uv&lt;/a&gt;. We use it to run &lt;code&gt;asciinema&lt;/code&gt; managing dependencies and installing it in a virtual environment automatically.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href="https://docs.asciinema.org/manual/cli/"&gt;asciinema&lt;/a&gt;&lt;/strong&gt;: Records terminal sessions and saves them in a text format. By default, these files are uploaded and shared through &lt;a href="https://asciinema.org/"&gt;asciinema.org&lt;/a&gt;, which is great, but the player requires JavaScript, which limits its use. That's why we convert it to SVG.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href="https://github.com/marionebl/svg-term-cli"&gt;svg-term-cli&lt;/a&gt;&lt;/strong&gt;: Converts asciinema recordings into animated SVGs.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Step by step&lt;/h3&gt;
&lt;h4&gt;1. Write the script&lt;/h4&gt;
&lt;p&gt;Following the example of &lt;code&gt;cuitonline&lt;/code&gt; shown above. I named the &lt;code&gt;tuterm&lt;/code&gt; script &lt;code&gt;usage.tutorial&lt;/code&gt; with the following content:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code literal-block"&gt;&lt;span class="c1"&gt;# file: &amp;gt; cuitonline_usage&lt;/span&gt;
prompt&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-ne&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"\033[1;35m\$ \033[0;33m"&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
configure&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DELAY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.02
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;DELAY_PROMPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.2
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;COLOR_MESSAGE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'1;32'&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;

run&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;M&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Buscar por CUIT"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;c&lt;span class="w"&gt; &lt;/span&gt;cuitonline&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;-22293909-8
&lt;span class="w"&gt; &lt;/span&gt;sleep&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;M&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Buscar por DNI"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;c&lt;span class="w"&gt; &lt;/span&gt;cuitonline&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;10433615&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;sleep&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;M&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Busca por nombre"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;c&lt;span class="w"&gt; &lt;/span&gt;cuitonline&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"messi lionel andres"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;sleep&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;clear
&lt;span class="w"&gt; &lt;/span&gt;M&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Obtiene la p√°gina 2 de los resultados"&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;c&lt;span class="w"&gt; &lt;/span&gt;cuitonline&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"juan jose gonzalez"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-p2
&lt;span class="w"&gt; &lt;/span&gt;sleep&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lines that start with &lt;code&gt;M&lt;/code&gt; are the comments. &lt;code&gt;c&lt;/code&gt; are commands that will be seen, and the rest are commands that will be executed but are not shown being typed.&lt;/p&gt;
&lt;h4&gt;2. Record the terminal session&lt;/h4&gt;
&lt;p&gt;Use asciinema to record the session while tuterm runs your demo:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code literal-block"&gt;uvx&lt;span class="w"&gt; &lt;/span&gt;asciinema&lt;span class="w"&gt; &lt;/span&gt;rec&lt;span class="w"&gt; &lt;/span&gt;--overwrite&lt;span class="w"&gt; &lt;/span&gt;-c&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'tuterm usage.tutorial --mode demo'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;usage.cast
&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;3. Convert the recording into an animated SVG&lt;/h4&gt;
&lt;p&gt;With svg-term-cli we define the appearance of the "console" and convert the recording into an animated SVG:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code literal-block"&gt;svg-term&lt;span class="w"&gt; &lt;/span&gt;--window&lt;span class="w"&gt; &lt;/span&gt;--width&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;75&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--height&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;24&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--padding&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--in&lt;span class="w"&gt; &lt;/span&gt;usage.cast&lt;span class="w"&gt; &lt;/span&gt;--out&lt;span class="w"&gt; &lt;/span&gt;usage.svg
&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;4. Add the generated SVG to your &lt;code&gt;README.md&lt;/code&gt; file&lt;/h4&gt;
&lt;p&gt;For example, if you upload it to &lt;code&gt;/demo/usage.svg&lt;/code&gt; of your repo,&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code literal-block"&gt;&amp;lt;p align="center"&amp;gt;
&amp;lt;img width="90%" src="https://raw.githubusercontent.com/&amp;lt;user&amp;gt;/&amp;lt;repo&amp;gt;/refs/heads/main/demo/usage.svg" /&amp;gt;
&amp;lt;/p&amp;gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And that's it! Now you have an animated, sharp, and programmatically maintainable demo for your CLI program directly in your GitHub README. üòé&lt;/p&gt;</description><guid>https://mgaitan.github.io/en/posts/animated-svgs-for-your-cli-program-demos/</guid><pubDate>Thu, 23 Jan 2025 19:02:18 GMT</pubDate></item></channel></rss>