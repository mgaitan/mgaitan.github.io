<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="&gt;&gt;&gt; me.geek.post()">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>tin_nqn</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css" integrity="sha256-cLMYWYYutHkt+KpNqjg7NVkYSQ+E2VbrXsEvOqU7mL0=" crossorigin="anonymous">
<link href="../assets/css/all.css" rel="stylesheet" type="text/css">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" hreflang="es" href="../rss.xml">
<link rel="canonical" href="https://mgaitan.github.io/en/">
<link rel="next" href="index-2.html" type="text/html">
<!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-light bg-light
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="logo" href=".">

            <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
            </div>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="about" class="nav-link">About me</a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/index.html" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item">
                    <button class="nav-link theme-toggle" id="theme-toggle" type="button" aria-pressed="false" aria-label="Theme: Auto (system). Click to switch to light." title="Theme: Auto (system). Click to switch to light." data-mode="auto">
                        <svg class="theme-icon theme-icon-auto" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2V4a8 8 0 1 0 0 16z"></path></svg><svg class="theme-icon theme-icon-light" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg><svg class="theme-icon theme-icon-dark" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"></path></svg></button>
                </li>
                    <li>            </li>
<li class="nav-item"><a href="../" rel="alternate" hreflang="es" class="nav-link">Espa√±ol</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
    
    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/opinionated-python-project-scaffolding/" class="u-url">My opinionated scaffolding for modern Python projects</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mart√≠n Gait√°n
            </span></p>
            <p class="dateline">
            <a href="posts/opinionated-python-project-scaffolding/" rel="bookmark">
            <time class="published dt-published" datetime="2025-12-08T18:30:00-03:00" itemprop="datePublished" title="2025-12-08 18:30">2025-12-08 18:30</time></a>
            </p>
                <p class="commentline">        <a href="posts/opinionated-python-project-scaffolding/#disqus_thread" data-disqus-identifier="cache/posts/plantilla-personalizada-proyectos-python.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Python is a pragmatic programming language and asks for very little to get started. A text file with valid code, conventionally ending in <code>.py</code> and forming a ‚Äúmodule‚Äù in Python jargon, is already a small program (a script); we run it with <code>python &lt;file&gt;</code> and we are done. But when that simple piece of code needs to grow into more files or deserves to be distributed ‚Äîmaybe because it will be a dependency of another project or simply because someone else might benefit‚Äî then it needs some structure and metadata.</p>
<p>That is not exclusive to Python: when you start a software project there is always a basic set of files and structures that serve as a starting point; the minimum set of files, folders, configs, and "basic" code you need when you want to share code as an app or library: the project boilerplate. The boilerplate does not define logic, but it does lay the technical foundation‚Äîoften based on conventions and sometimes on personal taste‚Äîon which everything else will be built.</p>
<p>This article details the decisions I made for the template and automated scaffolding I created for my projects, based on <a href="https://copier.readthedocs.io/en/stable/">Copier</a>.</p>
<p>In short:</p>
<ul>
<li>üêç Modern Python package (3.12+)</li>
<li>üì¶ Build and dependency management with <a href="https://docs.astral.sh/uv/">uv</a>, split by groups (dev/qa/docs)</li>
<li>üßπ Linting and formatting via <a href="https://docs.astral.sh/ruff/">Ruff</a> with a broad set of rules enabled</li>
<li>‚úÖ Type checking via <a href="https://github.com/astral-sh/ty">ty</a>
</li>
<li>üß™ Tests with <a href="https://docs.pytest.org/en/stable/">pytest</a>, <a href="https://coverage.readthedocs.io/en/latest/">coverage.py</a> and extensions</li>
<li>üìö Docs with <a href="https://www.sphinx-doc.org/en/master/">Sphinx</a>, <a href="https://myst-parser.readthedocs.io/en/stable/">MyST</a> and a few extensions, deployed to <a href="https://pages.github.com/">GitHub Pages</a>
</li>
<li>ü§ñ GitHub project creation automated through <a href="https://cli.github.com/">GitHub CLI</a>
</li>
<li>‚öôÔ∏è CI workflow on <a href="https://github.com/features/actions">GitHub Actions</a>
</li>
<li>üöÄ Automated releases via <a href="https://docs.pypi.org/trusted-publishers/creating-a-project-through-oidc/">Trusted Publishing</a>
</li>
<li>üß† Sensible defaults via introspection to minimize answers in the initial questionnaire</li>
<li>üõ†Ô∏è Makefile with shortcuts for common tasks</li>
<li>üìÑ Generation of generic docs such as LICENSE/CODE_OF_CONDUCT/AGENTS.md, etc.</li>
<li>üåÄ Initial setup of the development environment and git repo</li>
<li>‚ôªÔ∏è Projects updatable with <a href="https://copier.readthedocs.io/en/stable/updating/"><code>copier update</code></a>
</li>
</ul>
<p>And a bunch more details I am surely forgetting.</p>
<p>If you want to try it, it is at <a href="https://github.com/mgaitan/python-package-copier-template">mgaitan/python-package-copier-template</a> and you can spin up a project like this:</p>
<div class="code"><pre class="code literal-block"><span class="go">uvx --with=copier-template-extensions copier copy --trust "gh:mgaitan/python-package-copier-template" /path/to/your/new/project</span>
</pre></div>

<h3>Minimal Bootstrapping in Python</h3>
<p>A minimal boilerplate for a current Python project‚Äîinstallable and distributable‚Äîcan be created with <code>[uv init --package](https://docs.astral.sh/uv/concepts/projects/init/#packaged-applications)</code> (heavily inspired by <code>cargo init</code> for Rust):</p>
<div class="code"><pre class="code literal-block"><span class="gp">$ </span>uv<span class="w"> </span>init<span class="w"> </span>demo-project<span class="w"> </span>--package<span class="w"> </span>
<span class="go">Initialized project `demo-project` at `/home/tin/lab/demo-project`</span>
</pre></div>

<p>That yields:</p>
<div class="code"><pre class="code literal-block"><span class="gp">$ </span>tree<span class="w"> </span>demo-project/
<span class="go">demo-project/</span>
<span class="go">‚îú‚îÄ‚îÄ pyproject.toml</span>
<span class="go">‚îú‚îÄ‚îÄ README.md</span>
<span class="go">‚îî‚îÄ‚îÄ src</span>
<span class="go">    ‚îî‚îÄ‚îÄ demo_project</span>
<span class="go">        ‚îî‚îÄ‚îÄ __init__.py</span>

<span class="go">3 directories, 3 files</span>
<span class="gp">$ </span>cat<span class="w"> </span>demo-project/pyproject.toml<span class="w"> </span>
<span class="go">[project]</span>
<span class="go">name = "demo-project"</span>
<span class="go">version = "0.1.0"</span>
<span class="go">description = "Add your description here"</span>
<span class="go">readme = "README.md"</span>
<span class="go">authors = [</span>
<span class="go">    { name = "Mart√≠n Gait√°n", email = "gaitan@gmail.com" }</span>
<span class="go">]</span>
<span class="go">requires-python = "&gt;=3.14"</span>
<span class="go">dependencies = []</span>

<span class="go">[project.scripts]</span>
<span class="go">demo-project = "demo_project:main"</span>

<span class="go">[build-system]</span>
<span class="go">requires = ["uv_build&gt;=0.9.9,&lt;0.10.0"]</span>
<span class="go">build-backend = "uv_build"</span>
</pre></div>

<p>This boilerplate declares <code>demo-project</code> as a CLI, mapped to a <code>main</code> function that is just a placeholder for your code.</p>
<div class="code"><pre class="code literal-block"><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>demo-project/
<span class="gp">$ </span>cat<span class="w"> </span>src/demo_project/__init__.py<span class="w"> </span>
<span class="go">def main() -&gt; None:</span>
<span class="go">    print("Hello from demo-project!")</span>

<span class="gp">$ </span>uv<span class="w"> </span>run<span class="w"> </span>demo-project
<span class="go">Using CPython 3.14.0</span>
<span class="go">Creating virtual environment at: .venv</span>
<span class="go">Installed 1 package in 6ms</span>
<span class="go">Hello from demo-project!</span>
</pre></div>

<p>If you install your program with <code>uv tool install .</code>, you can run <code>demo-project</code> from any directory.</p>
<p>But again, this is <strong>the bare minimum</strong>. Any respectable project defines unit tests (and how to run them), configures linters with style rules, ideally has docs, declares auxiliary dev dependencies, has a CI workflow, is versioned with git, and even includes badges in the README header. Which test framework do we use? How do we generate docs? Will the project use a <a href="https://packaging.python.org/en/latest/discussions/src-layout-vs-flat-layout/">src/ layout or flat</a>?</p>
<p>That is a lot of decisions to make (which can change over time) and a lot of work to implement by hand. Even more so when we get used to doing things one way and want the same setup across projects.</p>
<p>This is where the concept of <em>scaffolding</em> comes in: generating boilerplate from templates that you can edit centrally. The most generic and trivial way to do this is to <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-template-repository">mark a repository on GitHub as a ‚Äútemplate‚Äù</a> so that when you start a project you begin from the template repo‚Äôs <code>HEAD</code> state instead of an empty repo (but without forking it).</p>
<p>But starting a project is not just creating boilerplate; it is also preparing the dev environment, initializing the repo, creating the project on GitHub and maybe pushing an initial commit, checking that the package name you chose is not already taken, etc. All that project bootstrapping also implies repetitive, time-consuming tasks. Let‚Äôs automate them!</p>
<p>In Python, the best-known scaffolding + bootstrapping tool is <a href="https://cookiecutter.readthedocs.io/">cookiecutter</a>. Although it is written in Python (templates are defined with <a href="https://jinja.palletsprojects.com/en/stable/">Jinja</a>), it is not limited to Python projects‚Äîthere are <a href="https://github.com/search?q=cookiecutter&amp;type=repositories">cookiecutter templates for almost anything</a>!</p>
<p><code>cookiecutter</code> is great, but it handles the initial bootstrapping only. What happens when conventions change or we adopt a new preference? For instance, I used <a href="https://mgaitan.github.io/posts/metiendose-cosas-en-la-nariz/">Nose</a> long ago as a testing framework and runner, and now I use pytest. Python itself replaced <code>setup.py</code> with <code>pyproject.toml</code>, and the canonical default builder moved from setuptools to</p>
<p>And so on.</p>
<p>Again, if we have many projects, changing the same thing in many places is boring and repetitive work.</p>
<p>That is why my template is based on <a href="https://copier.readthedocs.io/en/stable/">Copier</a>. In many respects it is similar to cookiecutter (there is a <a href="https://copier.readthedocs.io/en/stable/comparisons/">comparison table</a>), but it also supports <a href="https://copier.readthedocs.io/en/stable/updating/">updates</a> to generated projects, meaning any project created from the template can apply new features with a single command.</p>
<h3>My <strike>body</strike> template, my call</h3>
<p>The template assumes Python 3.12+ with a <code>src/</code> layout and unified config in <code>pyproject.toml</code>. The build backend is <a href="https://docs.astral.sh/uv/concepts/build-backend/">uv_build</a>, which is more than enough for ‚Äúpure Python‚Äù projects (no compiled extensions). It declares an (optional) entrypoint script using <a href="https://docs.python.org/3/library/argparse.html"><code>argparse</code></a> and includes <code>--version</code> and <code>--help</code>.</p>
<p>Obviously I use <code>uv</code> to manage dependencies and the environment. While the initial project does not declare runtime dependencies (no ‚Äúdomain logic‚Äù yet <sup id="fnref:1"><a class="footnote-ref" href="posts/opinionated-python-project-scaffolding/#fn:1">1</a></sup>), I do declare several <a href="https://github.com/mgaitan/copier-uv/blob/6751063f461775b31514ef86dc595d0774cf126f/project/pyproject.toml.jinja#L98-L120"><code>dependency-groups</code></a>, a mechanism defined in <a href="https://peps.python.org/pep-0735/">PEP 735</a> that organizes dependencies into sets by purpose‚Äîe.g., test, docs, etc.‚Äîavoiding everything being lumped into main dependencies and making partial installs easier depending on environment or task. This lets us, for example, install only doc dependencies when building docs (saving precious CI time), or run QA with ruff without installing dev-only tools like ipdb. When <code>uv</code> installs or syncs dependencies (e.g., via <code>uv sync</code>) it looks for the <code>"dev"</code> group by default; in my template that is a meta-group that includes test, QA, and other extras.</p>
<p><a href="https://docs.astral.sh/ruff/">ruff</a>, as mentioned, is the canonical linter right now. From the same creators of uv (also written in Rust), its performance is uncanny. It covers linting (replacing flake8, isort, and dozens of plugins) and formatting (replacing the trailblazing <a href="https://black.readthedocs.io/en/stable/">black</a>) with a 120-character line limit (the 79 <a href="https://pep8.org/#maximum-line-length">recommended in PEP 8</a> feel too short on today‚Äôs screens) and a <a href="https://github.com/mgaitan/copier-uv/blob/6751063f461775b31514ef86dc595d0774cf126f/project/pyproject.toml.jinja#L39-L65">broad set of rules enabled</a>. Most rules have autofix (and when they do not, the agents take care of it), so it keeps a consistent Pythonic style that minimizes bugs. I might enable <a href="https://docs.astral.sh/ruff/rules/#flake8-errmsg-em">even more rules</a> later: if it is free, automatic, and fast, I want them all.</p>
<p>The package includes inline typing and ships the <code>py.typed</code> marker (<a href="https://peps.python.org/pep-0561/">PEP 561</a>). Type checks run with <a href="https://github.com/astral-sh/ty">ty</a>, another Astral tool that is still alpha but already usable for new projects.</p>
<p>The <strong>unit testing</strong> stack uses the de facto standard <a href="https://docs.pytest.org/en/stable/">pytest</a> and <a href="https://coverage.readthedocs.io/en/7.13.0/">coverage.py</a> via <a href="https://pytest-cov.readthedocs.io/en/latest/readme.html">pytest-cov</a> (configured with a 100% threshold), plus plugins for <a href="https://pytest-mock.readthedocs.io/en/latest/index.html">generic mocks</a> and <a href="https://github.com/pytest-dev/pytest-freezer">dates</a>. While we could use <a href="https://docs.python.org/3/library/unittest.mock.html"><code>unittest.mock</code></a> from the stdlib, I like the <code>mocker</code> fixture because it does not force context managers for patching. As the Zen says, ‚ÄúFlat is better than nested.‚Äù</p>
<p>For a brand-new project with undefined scope there may not be much to document (maybe the <code>README</code> is enough), but having the scaffolding ready makes it trivial once there is something to write. So the template includes a <code>docs/</code> folder with the starter structure. I could have used <a href="https://www.mkdocs.org/">MkDocs</a>, which is increasingly popular, but I stuck to classic <a href="https://www.sphinx-doc.org/">Sphinx</a> using <a href="https://myst-parser.readthedocs.io/">MyST parser</a> to write in <strong>Markdown</strong> (I <a href="https://mgaitan.github.io/en/posts/the-reStructuredText-processor/">used to like reStructuredText</a> but I know <a href="posts/opinionated-python-project-scaffolding/(https:/ia.net/topics/markdown-and-the-slow-fade-of-the-formatting-fetish)">a champion</a> when I see one). I include a couple of my Sphinx extensions already configured: <a href="https://github.com/mgaitan/sphinxcontrib-mermaid">sphinx-mermaid</a> for diagrams and <a href="https://github.com/mgaitan/richterm">richterm</a> to embed "captures".</p>
<p>After creating the initial code, it <a href="https://github.com/mgaitan/copier-uv/blob/6751063f461775b31514ef86dc595d0774cf126f/copier.yml#L15-L20">run a few automatic tasks</a>. For example, the first <code>uv sync</code> installs dev dependencies, and a first commit is created with <code>git</code>. Then, if <a href="https://cli.github.com/">GitHub CLI</a> is installed (highly recommended), the repo is created on GitHub, pushed, and the first workflow is launched without manual steps.</p>
<p>The generated tests and the QA checks (ruff/ty) run in a <strong>CI workflow</strong> triggered on every push or PR, running tests on a Python version matrix. The tools are configured to emit errors or warnings as <a href="https://docs.github.com/en/actions/using-workflows/workflow-commands-for-github-actions#setting-an-error-message">GitHub annotations</a> so you can navigate them in context.</p>
<p>Another workflow handles releases. The typical release flow starts with <code>make bump</code> + <code>make release</code> (bump the version, commit, and start a GitHub release). The workflow detects that event, builds wheels (via <code>uv build</code>) and attaches them to the GitHub release, and also uses <a href="https://docs.pypi.org/trusted-publishers/creating-a-project-through-oidc/">Trusted Publishing</a> to upload the new version directly to PyPI. It also builds and updates the docs served from GitHub Pages (if the repo is public).</p>
<p>The traditional way to upload packages to PyPI involved tools like <a href="https://github.com/pypa/twine">twine</a> that require a token or user/password. Trusted Publishing, instead, manages authentication dynamically (using <a href="https://openid.net/developers/how-connect-works/">OIDC</a>), so there are no secrets to manage (or rotate). Because PyPI‚Äôs API still does not expose endpoints for this registration, the only manual step‚Äîdone once‚Äîis to register <a href="https://docs.pypi.org/trusted-publishers/adding-a-publisher/">the package and the workflow</a>. In my case the workflow is <code>cd.yml</code> and I leave the environment blank.</p>
<p>When you run Copier with a template, it launches a questionnaire: package name, author, GitHub user, that sort of thing. I automated whatever I could to provide sensible defaults so you answer as little as possible. For example, the project name is inferred from the target directory, author name/email come from git, and the GitHub user from the API via GitHub CLI.</p>
<p>A lesson learned: many times I came up with a project name only to realize at publish time that it was taken (my recent <a href="https://mgaitan.github.io/posts/textual-tetris/">textual-tetris</a> was originally ‚Äútextris,‚Äù but <a href="https://pypi.org/project/textris">someone beat me to it</a>). So the wizard checks whether the package name is available on PyPI with a simple web query and, if it is taken, suggests a suffix.</p>
<p>In the generated project I defined a <code>Makefile</code> with shortcuts for ‚Äúday-to-day.‚Äù For example, if you want to build the docs locally as <code>epub</code>, you do not need to remember the Sphinx arguments; just run <code>make docs-epub</code> (there is also a <code>make help</code>). While there are newer tools like <a href="https://github.com/casey/just">just</a> or <a href="https://github.com/jdx/mise">mise</a> (there is also <a href="https://www.pyinvoke.org/">invoke</a> but I abhor it), the 50-year-old <code>make</code> is ubiquitous and sufficient for these humble needs. Targets like <code>qa</code>, <code>test</code>, <code>docs</code>, and <code>release</code> wrap long commands and keep a uniform interface for recurring tasks.</p>
<p>Alongside code, the template generates the usual copy-paste documents like <code>LICENSE</code> and <code>CODE_OF_CONDUCT.md</code> (from the <a href="https://www.contributor-covenant.org/">Contributor Covenant</a>). I also include an <a href="https://agents.md/">AGENTS.md</a> with basic instructions so code agents understand the working context and preferences.</p>
<h4>Updates with Copier</h4>
<p>Perhaps Copier‚Äôs most interesting feature is that it can update projects that already exist, because any self-respecting programmer has principles‚Äîbut changes them over time.</p>
<p>I recommend the interview with Jairo Llopis (one of Copier‚Äôs maintainers) in this <a href="https://www.pythonpodcast.com/episodepage/project-scaffolding-that-evolves-with-your-software-using-copier">podcast</a> where he describes Copier as a ‚Äúproject life cycle management tool,‚Äù as opposed to a traditional scaffolding tool.</p>
<p>When everything is ready in the generated project, Copier leaves a small <code>.copier-answers.yml</code> file with metadata about the template used and the variables (the answers to the initial questionnaire). If there are updates in the template (by default it looks for tags), running <code>uvx copier update</code> is enough to apply them (or at least try) to the project, even if the project has changed.</p>
<p>The mechanism is not trivial: it involves extracting and applying diffs (remember, the template and the project are completely separate repos with no shared history). It is summarized in this diagram from the docs:</p>
<p><a href="https://mermaid.live/edit#pako:eNqlVcuOmzAU_RXL1UgTlWSSTF4w1WyabVftqqWqPHAhNGAjY6rSJP_ea2wnQFGldrwA-_qc--IYn2gkYqABTSUrD-TTPuQhv7sjHK0Vmf73CLmCosyZgm8SSnEfUrcmel1lSsgmpJMOLqqlBK4Q-qCK8sHZ373I53u7RxRLJ32WflTjJLN144S8lOI7RApTSoE7jjW2lERCdfCIC_cDZJUJbuiOfMvTwexOD3VgeYIQ_SJFht1VEOsQY9i6jPU2wu1s1CMryzwbQ7WZx1mSEAvp55vUeY4k_WqIpWoK4_E1s17AkBvUFxfJ9aOTP8n4FDsdmU6jsShVxtOJXr4lsubY9upYEZayjIf0a8gjhDCpndoZUYKkoIjOvEXo7Bvcb983c8j1FCswlolVKMTpKxVK7OgpFT0-k3OaKRLlgsOZDPX5zzwjQ511n-XUY4jAQX8Jor_KtX1n0lOsCz1QYuvBNvVvkLNpbClhar47SrsTQkv1Vlwv8FiEDqYVuYYYuTjEoAMjiOuwOtOIwaEYQp14NLQVxNAVac3tflvvsCPu8PwBuA3Tp24y9mANfVlzr7uiUqPt1efPSrdSTQ6vkm6Us6raQ0Je8AweX4SMQaJbKY4QvJnP508W4trlmao9k2OH9EQ9WoAsWBbjJXDSBeKv-gAFhDTAaQwJq3P8L4T8glBWK_Gx4RENlKzBo1LU6YEGCcsrXJkg-4xh9YWDlIx_FqK7pMGJ_qTBcrmcPe4ed6vVeudv5_7Kow0NFtvZFlfrjb_119v18uLRXy19PvOXi9V242_mi91ysfN9Dy8tnbaNjjrHgt6LmivtBt1BrK-ZD-aCa--5y2-R6D_y"><img alt="" src="https://mermaid.ink/img/pako:eNqlVcuOmzAU_RXL1UgTlWSSTF4w1WyabVftqqWqPHAhNGAjY6rSJP_ea2wnQFGldrwA-_qc--IYn2gkYqABTSUrD-TTPuQhv7sjHK0Vmf73CLmCosyZgm8SSnEfUrcmel1lSsgmpJMOLqqlBK4Q-qCK8sHZ373I53u7RxRLJ32WflTjJLN144S8lOI7RApTSoE7jjW2lERCdfCIC_cDZJUJbuiOfMvTwexOD3VgeYIQ_SJFht1VEOsQY9i6jPU2wu1s1CMryzwbQ7WZx1mSEAvp55vUeY4k_WqIpWoK4_E1s17AkBvUFxfJ9aOTP8n4FDsdmU6jsShVxtOJXr4lsubY9upYEZayjIf0a8gjhDCpndoZUYKkoIjOvEXo7Bvcb983c8j1FCswlolVKMTpKxVK7OgpFT0-k3OaKRLlgsOZDPX5zzwjQ511n-XUY4jAQX8Jor_KtX1n0lOsCz1QYuvBNvVvkLNpbClhar47SrsTQkv1Vlwv8FiEDqYVuYYYuTjEoAMjiOuwOtOIwaEYQp14NLQVxNAVac3tflvvsCPu8PwBuA3Tp24y9mANfVlzr7uiUqPt1efPSrdSTQ6vkm6Us6raQ0Je8AweX4SMQaJbKY4QvJnP508W4trlmao9k2OH9EQ9WoAsWBbjJXDSBeKv-gAFhDTAaQwJq3P8L4T8glBWK_Gx4RENlKzBo1LU6YEGCcsrXJkg-4xh9YWDlIx_FqK7pMGJ_qTBcrmcPe4ed6vVeudv5_7Kow0NFtvZFlfrjb_119v18uLRXy19PvOXi9V242_mi91ysfN9Dy8tnbaNjjrHgt6LmivtBt1BrK-ZD-aCa--5y2-R6D_y?type=png"></a></p>
<h3>No Silver Bullet</h3>
<p>I have been using Python for many years and have seen conventions and tools change. Packaging in particular has been a long-standing hassle that other tech communities have mocked. Fortunately, we now have robust standards, and the arrival of <code>uv</code> seems to have settled the debate.</p>
<p>Still, as seen above, there are many decisions here that I may revisit over time. If you agree with many of them but not all, and editing directly in the generated project is not enough (maybe you do not care about <code>Makefile</code> because you use Windows‚Äîdelete the file and move on), then fork the template and make your own flavor. That is exactly what I did: my template started as a fork of <a href="https://github.com/pawamoy/copier-uv">this one</a>.</p>
<p>Hope it helps and long live the Free Software!</p>
<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p>Just as in recent years we have been <a href="https://www.xataka.com/aplicaciones/se-acabaron-terminos-como-esclavo-lista-negra-linux-desarrolladores-tendran-que-usar-lenguaje-inclusivo">revisiting and politicizing language</a> in our industry‚Äîtrying to avoid sexist, enslaving, or militaristic terms‚Äîwe should also stop seeing software purely in capitalist terms. I am looking at you, ‚Äúbusiness logic.‚Äù¬†<a class="footnote-backref" href="posts/opinionated-python-project-scaffolding/#fnref:1" title="Jump back to footnote 1 in the text">‚Ü©</a></p>
</li>
</ol>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/expanding-the-python-universe-with-rust/" class="u-url">Expanding the Python universe with Rust</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mart√≠n Gait√°n
            </span></p>
            <p class="dateline">
            <a href="posts/expanding-the-python-universe-with-rust/" rel="bookmark">
            <time class="published dt-published" datetime="2025-12-07T14:15:23-03:00" itemprop="datePublished" title="2025-12-07 14:15">2025-12-07 14:15</time></a>
            </p>
                <p class="commentline">        <a href="posts/expanding-the-python-universe-with-rust/#disqus_thread" data-disqus-identifier="cache/posts/ampliando-el-universo-python-con-rust.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>My wife Natalia, among many <a href="https://www.instagram.com/natinadibuja/">other talents she has</a>, is a German-to-Spanish translator and, besides freelancing, works as a researcher and lecturer at the Universidad Nacional de C√≥rdoba, Argentina.</p>
<p>Probably because foreign languages are almost as hard for me as dancing or singing (sorry to my colleagues who have had--and will have--to suffer through my spoken English), I have deep admiration for polyglots. Not for the mere ability to swap words or produce more vowel sounds, but for the power to know and feel different universes. That is what <a href="https://borgestodoelanio.blogspot.com/2017/01/jorges-luis-borges-el-oficio-de-traducir.html">Jorge L. Borges was complaining about</a> when someone mangled one of his tales with a translation:</p>
<blockquote>
<p>According to dictionaries, languages are repertoires of synonyms, but they are not. Bilingual dictionaries make you believe that every word in one language can be replaced by another word in a different language. The mistake is ignoring that each language is a way of feeling the universe.</p>
</blockquote>
<p>I extrapolate that admiration for polyglotism--the art of widening your vital universe--to people who know many programming languages deeply. They bring ideas from one universe to the next, bursting bubbles, prejudices, blind spots. They propose new ways and limits, taking inspiration from here to create over there. Python would not exist without that kind of people. Long live those "Marco Polos" who connect universes.</p>
<p>Since I'm ambitious (but not quite dedicated enough) to open a small window into the Rust universe, I compensate for my slowness and distraction with tools and shortcuts.</p>
<p>This is a simple way to expand my Python universe with a "Marco Polo" who knows the Rust world and can open a window to that <a href="https://crates.io/">other realm full of possibilities</a>.</p>
<p class="more"><a href="posts/expanding-the-python-universe-with-rust/">Read more‚Ä¶</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/whisperx-tutorial/" class="u-url">How to use WhisperX in Google Colab (2025)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mart√≠n Gait√°n
            </span></p>
            <p class="dateline">
            <a href="posts/whisperx-tutorial/" rel="bookmark">
            <time class="published dt-published" datetime="2025-12-03T10:15:20-03:00" itemprop="datePublished" title="2025-12-03 10:15">2025-12-03 10:15</time></a>
            </p>
                <p class="commentline">        <a href="posts/whisperx-tutorial/#disqus_thread" data-disqus-identifier="cache/posts/whisperX_tutorial.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://github.com/m-bain/whisperX">WhisperX</a> is an advanced speech-recognition pipeline built on top of Whisper, OpenAI's open-source ASR model. It runs on PyTorch, and while it can operate on a CPU, performance is significantly enhanced with a CUDA-compatible GPU (i.e., NVIDIA). WhisperX improves upon the original model with more accurate and faster alignment, support for larger models, and optional speaker diarization. The result is high-quality transcriptions with precise word-level timestamps and clear speaker identification, and it claims to be up to 70x faster than the original model.</p>
<p>My laptop doesn't have a GPU with CUDA support, so I run WhisperX on Google Colab, and this is a short tutorial on how I set it up and use it in this cloud environment.</p>
<p class="more"><a href="posts/whisperx-tutorial/">Read more‚Ä¶</a></p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/textual-tetris/" class="u-url">textual-tetris, a Tetris in the terminal</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mart√≠n Gait√°n
            </span></p>
            <p class="dateline">
            <a href="posts/textual-tetris/" rel="bookmark">
            <time class="published dt-published" datetime="2025-11-24T22:38:00-03:00" itemprop="datePublished" title="2025-11-24 22:38">2025-11-24 22:38</time></a>
            </p>
                <p class="commentline">        <a href="posts/textual-tetris/#disqus_thread" data-disqus-identifier="cache/posts/textual-tetris.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Since I <a href="https://x.com/tin_nqn_/status/1978823177837912528">remain unemployed</a> while prioritizing my search for mental health, I spend my nerdy time on two worthwhile tasks:</p>
<ol>
<li>Collaborating with organizations that need technological solutions but do not have the budget to compete in the market for my skills.</li>
<li>The one relevant to this post: learning new things by implementing old ideas from the permanent <code>TO DO</code> list I <a href="https://github.com/mgaitan/mgaitan/issues">keep here</a>, the ones I almost never found time for.</li>
</ol>
<p>This time I wanted to learn a bit about <a href="https://textual.textualize.io/">Textual</a> (the elder sibling of <a href="https://rich.readthedocs.io/en/stable/">rich</a>), an excellent Python framework for building <a href="https://en.wikipedia.org/wiki/Text-based_user_interface">text-based users interfaces</a>.</p>
<p>And while I was at it, I learned how to make a Tetris clone that is pretty decent to play, does not look <em>that</em> ugly, and <a href="https://github.com/mgaitan/textual-tetris/blob/392744f6275160e5b8512e7f9f76b3a2e388fb4a/textris.py">currently sits at under 600 lines of Python code</a>, comments included. It looks like this:</p>
<p><img alt="" src="../images/textual-tetris.png"></p>
<p>But a taste is worth more than a thousand screenshots: open a terminal and, if you have <a href="https://docs.astral.sh/uv/">uv</a> installed (you should!), run:</p>
<div class="code"><pre class="code literal-block"><span class="go">uvx textual-tetris</span>
</pre></div>

<p>And you are already playing Tetris!</p>
<p class="more"><a href="posts/textual-tetris/">Read more‚Ä¶</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/easter-eggs-with-invisible-text/" class="u-url">Easter eggs in your code with invisible text</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mart√≠n Gait√°n
            </span></p>
            <p class="dateline">
            <a href="posts/easter-eggs-with-invisible-text/" rel="bookmark">
            <time class="published dt-published" datetime="2025-10-31T17:18:17-03:00" itemprop="datePublished" title="2025-10-31 17:18">2025-10-31 17:18</time></a>
            </p>
                <p class="commentline">        <a href="posts/easter-eggs-with-invisible-text/#disqus_thread" data-disqus-identifier="cache/posts/easter-eggs-con-texto-invisible.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>According to (spanish) Wikipedia, <a href="https://es.wikipedia.org/wiki/Huevo_de_Pascua_(virtual)">an "easter egg" is</a></p>
<blockquote>
<p>... is a hidden message or capability embedded in movies, television series, ..., software programs, or video games. Among programmers, there seems to be a drive to leave a personal mark, almost an artistic touch on an intellectual product that is by nature standard and functional. These days, Easter eggs aim to entertain, seek new job opportunities, pay tribute to executives, or amuse programmers.</p>
</blockquote>
<p>I have no idea who convinced that gullible Wikipedian that software is "standard and functional", but it is true that the urge for software Easter eggs is almost as old as software itself.</p>
<p>Here is a technique I discovered back in kindergarten, when we would draw with lemon juice so that later, magically, the scribble would be revealed by the teacher's lighter (she was probably smoking in the blocks' corner).</p>
<p>So let‚Äôs see how to write invisible (digital) text: lemon juice‚Äôs Unicode counterpart.</p>
<p class="more"><a href="posts/easter-eggs-with-invisible-text/">Read more‚Ä¶</a></p>
</div>
    </div>
    </article>
</div>
        <ul class="pager postindexpager clearfix">
<li class="next"><a href="index-2.html" rel="next">Older posts</a></li>
        </ul>
<script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script><!--End of body content--><footer id="footer">
            Contents ¬© 2025         <a href="mailto:gaitan@gmail.com">Mart√≠n Gait√°n</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js" integrity="sha256-ULQV01VS9LCI2ePpLsmka+W0mawFpEA0rtxnezUj4A4=" crossorigin="anonymous"></script><script src="../assets/js/all.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
    (function() {
        var storageKey = 'theme-mode';
        var toggle = document.getElementById('theme-toggle');
        if (!toggle) return;
        var prefersDark = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;
        var modes = ['auto', 'light', 'dark'];

        function savedMode() {
            var stored = localStorage.getItem(storageKey);
            if (modes.indexOf(stored) !== -1) {
                return stored;
            }
            return 'auto';
        }

        function resolvedTheme(mode) {
            if (mode === 'light' || mode === 'dark') return mode;
            return prefersDark && prefersDark.matches ? 'dark' : 'light';
        }

        function labels(mode, resolved) {
            if (mode === 'auto') {
                return {
                    aria: "Theme: Auto (system). Click to switch to light.",
                    next: 'light'
                };
            }
            if (mode === 'light') {
                return {
                    aria: "Theme: Light. Click to switch to dark.",
                    next: 'dark'
                };
            }
            return {
                aria: "Theme: Dark. Click to switch to auto.",
                next: 'auto'
            };
        }

        function apply(mode) {
            var resolved = resolvedTheme(mode);
            document.body.setAttribute('data-theme', resolved);
            document.body.setAttribute('data-theme-mode', mode);
            toggle.dataset.mode = mode;
            var label = labels(mode, resolved);
            toggle.setAttribute('aria-pressed', resolved === 'dark');
            toggle.setAttribute('aria-label', label.aria);
            toggle.setAttribute('title', label.aria);
        }

        function setMode(mode) {
            localStorage.setItem(storageKey, mode);
            apply(mode);
        }

        apply(savedMode());

        toggle.addEventListener('click', function() {
            var current = document.body.getAttribute('data-theme-mode') || savedMode();
            var next = labels(current).next;
            setMode(next);
        });

        if (prefersDark && prefersDark.addEventListener) {
            prefersDark.addEventListener('change', function() {
                if (savedMode() === 'auto') {
                    apply('auto');
                }
            });
        }
    })();
    </script><script src="../assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un d√≠a",
               days: "%d d√≠as",
               month: "un mes",
               months: "%d meses",
               year: "un a√±o",
               years: "%d a√±os"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51074482-1', 'mgaitan.github.io');
      ga('send', 'pageview');

    </script>
</body>
</html>
