<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SVG animados para tus demos de programas CLI | tin_nqn</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css" integrity="sha256-cLMYWYYutHkt+KpNqjg7NVkYSQ+E2VbrXsEvOqU7mL0=" crossorigin="anonymous">
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" hreflang="es" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="../../en/rss.xml">
<link rel="canonical" href="https://mgaitan.github.io/posts/svg-animados-para-tus-demos-de-programas-cli/">
<!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><meta name="author" content="Martín Gaitán">
<link rel="prev" href="../custom-screen-layout-switcher-for-linux/" title="Screen layout switcher para Linux" type="text/html">
<link rel="next" href="../dependencias-automaticas-scripts-python-autopep723/" title="Depedencias automáticas en scripts Python con autopep723" type="text/html">
<meta property="og:site_name" content="tin_nqn">
<meta property="og:title" content="SVG animados para tus demos de programas CLI">
<meta property="og:url" content="https://mgaitan.github.io/posts/svg-animados-para-tus-demos-de-programas-cli/">
<meta property="og:description" content="¿Querés mostrar lo piola que es tu programa de línea de comandos con una demo de un uso real? ¿Querés evitar que la demo quede desactualizada facilmente? ¿Querés incluir la demo en sitios que no permi">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2025-01-23T16:02:18-03:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator:id" content="40654511">
<link rel="alternate" hreflang="en" href="../../en/posts/animated-svgs-for-your-cli-program-demos/">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-light bg-light
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="logo" href="../../">

            <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
            </div>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../about/" class="nav-link">Sobre mí</a>
                </li>
<li class="nav-item">
<a href="../../charlas/" class="nav-link">Charlas</a>
                </li>
<li class="nav-item">
<a href="../../archive.html" class="nav-link">Archivos</a>
                </li>
<li class="nav-item">
<a href="../../categories/index.html" class="nav-link">Categorías</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">RSS</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li>            </li>
<li class="nav-item"><a href="../../en/" rel="alternate" hreflang="en" class="nav-link">English</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">SVG animados para tus demos de programas CLI</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2025-01-23T16:02:18-03:00" itemprop="datePublished" title="2025-01-23 16:02">2025-01-23 16:02</time></a>
            </p>
                <p class="commentline">        <a href="#disqus_thread" data-disqus-identifier="cache/posts/svg-animados-para-tus-demos-de-programas-cli.html">Comentarios</a>


            
        </p>
</div>
                <div class="metadata posttranslations translations">
            <h3 class="posttranslations-intro">También disponible en:</h3>
                <p><a href="../../en/posts/animated-svgs-for-your-cli-program-demos/" rel="alternate" hreflang="en">English</a></p>
        </div>

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>¿Querés mostrar lo piola que es tu programa de línea de comandos con una demo de un uso real? ¿Querés evitar que la demo quede desactualizada facilmente? ¿Querés incluir la demo en sitios que no permiten videos ni javascript como los <code>README</code> de Github o Pypi? </p>
<p>¡Los SVG animados generados programáticamente son la solución! Se incrustan como una imágen normal pero son más livianos que los GIFs, se reproducen automáticamente en la misma página, no requieren javascript y mantienen el texto nítido sin importar el zoom. </p>
<p>Además, automatizar tus demos te permite tener control total y regenerar el resultado visual de manera programática cuando la CLI cambie o quieras hacer cambios. </p>
<p>Como ejemplo, acá la demo un programita que hice hace poco llamado <a href="https://github.com/mgaitan/cuitonline">cuitonline</a> que luce así para su versión 0.1: </p>
<p align="center">
<img width="90%" src="https://raw.githubusercontent.com/mgaitan/cuitonline/refs/tags/0.1/demo/usage.svg"></p>

<h3>¿Cómo lo hacemos?</h3>
<p>Vamos a utilizar las siguientes herramientas, todas open source. </p>
<p><strong><a href="https://github.com/veracioux/tuterm">tuterm</a></strong>: Es una herramienta bash para crear demos de programas CLI. Se define un "script" (en el mejor sentido de la palabra) que permite controlar los comandos que se ejecutan (¡de verdad!) en la consola, que comentario mostrar y qué otros comandos auxiliares ejecutar. </p>
<ul>
<li>
<p><strong>uvx</strong>: Es el equivalente a <code>pipx</code> de <a href="https://github.com/astral-sh/uv">uv</a>. Lo usamos para ejecutar <code>asciinema</code> gestionando las dependencias e instalandolo en un entorno virtual automáticamente. </p>
</li>
<li>
<p><strong><a href="https://docs.asciinema.org/manual/cli/">asciinema</a></strong>: Graba sesiones de terminal y las guarda en un formato de texto. Por defecto estos archivos se suben y se comparten a traves de <a href="https://asciinema.org/">asciinema.org</a>, que es genial pero el reproductor requiere javascript lo que limita su uso. Por eso lo convertimos a SVG.  </p>
</li>
<li>
<p><strong><a href="https://github.com/marionebl/svg-term-cli">svg-term-cli</a></strong>: Convierte grabaciones de asciinema en SVGs animados. </p>
</li>
</ul>
<h3>Paso a paso</h3>
<h4>1. Escribe el script</h4>
<p>Siguiendo el ejemplo de <code>cuitonline</code> mostrado arriba. El script de <code>tuterm</code> lo llameé <code>usage.tutorial</code> con el siguiente contenido:</p>
<div class="code"><pre class="code literal-block"><span class="c1"># file: &gt; cuitonline_usage</span>
prompt<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-ne<span class="w"> </span><span class="s2">"\033[1;35m\$ \033[0;33m"</span>
<span class="o">}</span>
configure<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="nv">DELAY</span><span class="o">=</span><span class="m">0</span>.02
<span class="w"> </span><span class="nv">DELAY_PROMPT</span><span class="o">=</span><span class="m">0</span>.2
<span class="w"> </span><span class="nv">COLOR_MESSAGE</span><span class="o">=</span><span class="s1">'1;32'</span>
<span class="o">}</span>

run<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w"> </span>M<span class="w"> </span><span class="s2">"Buscar por CUIT"</span>
<span class="w"> </span>c<span class="w"> </span>cuitonline<span class="w"> </span><span class="m">20</span>-22293909-8
<span class="w"> </span>sleep<span class="w"> </span><span class="m">3</span>
<span class="w"> </span>M<span class="w"> </span><span class="s2">"Buscar por DNI"</span>
<span class="w"> </span>c<span class="w"> </span>cuitonline<span class="w"> </span><span class="m">10433615</span>
<span class="w"> </span>sleep<span class="w"> </span><span class="m">3</span>
<span class="w"> </span>M<span class="w"> </span><span class="s2">"Busca por nombre"</span>
<span class="w"> </span>c<span class="w"> </span>cuitonline<span class="w"> </span><span class="s2">"messi lionel andres"</span>
<span class="w"> </span>sleep<span class="w"> </span><span class="m">3</span>
<span class="w"> </span>clear
<span class="w"> </span>M<span class="w"> </span><span class="s2">"Obtiene la página 2 de los resultados"</span>
<span class="w"> </span>c<span class="w"> </span>cuitonline<span class="w"> </span><span class="s2">"juan jose gonzalez"</span><span class="w"> </span>-p2
<span class="w"> </span>sleep<span class="w"> </span><span class="m">3</span>
<span class="o">}</span>
</pre></div>

<p>Las líneas que empiezan por <code>M</code> son los comentarios. <code>c</code> son comandos que se van a ver, y el resto son comandos que se van a ejecutar pero no se muestran tipeados. </p>
<h4>2. Graba la sesión de la terminal</h4>
<p>Utiliza asciinema para grabar la sesión mientras tuterm ejecuta tu demo:</p>
<div class="code"><pre class="code literal-block">uvx<span class="w"> </span>asciinema<span class="w"> </span>rec<span class="w"> </span>--overwrite<span class="w"> </span>-c<span class="w"> </span><span class="s1">'tuterm usage.tutorial --mode demo'</span><span class="w"> </span>usage.cast
</pre></div>

<h4>3. Convierte la grabación en un SVG animado</h4>
<p>Con svg-term-cli definimos el aspecto de la "consola" y convertimos la grabación en un SVG animado:</p>
<div class="code"><pre class="code literal-block">svg-term<span class="w"> </span>--window<span class="w"> </span>--width<span class="w"> </span><span class="m">75</span><span class="w"> </span>--height<span class="w"> </span><span class="m">24</span><span class="w"> </span>--padding<span class="w"> </span><span class="m">1</span><span class="w"> </span>--in<span class="w"> </span>usage.cast<span class="w"> </span>--out<span class="w"> </span>usage.svg
</pre></div>

<h4>4. Añade el SVG generado en tu archivo <code>README.md</code>
</h4>
<p>Por ejemplo si lo subis a <code>/demo/usage.svg</code> de tu repo, </p>
<div class="code"><pre class="code literal-block">&lt;p align="center"&gt;
&lt;img width="90%" src="https://raw.githubusercontent.com/&lt;user&gt;/&lt;repo&gt;/refs/heads/main/demo/usage.svg" /&gt;
&lt;/p&gt;
</pre></div>

<p>¡Y listo! Ahora tenés una demo animada, nítida y mantenible programáticamente para tu programa CLI directamente en tu README de GitHub. 😎</p>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../custom-screen-layout-switcher-for-linux/" rel="prev" title="Screen layout switcher para Linux">Post anterior</a>
            </li>
            <li class="next">
                <a href="../dependencias-automaticas-scripts-python-autopep723/" rel="next" title="Depedencias automáticas en scripts Python con autopep723">Siguiente post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comentarios</h2>
                    <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="nqnwebs",
            disqus_url="https://mgaitan.github.io/posts/svg-animados-para-tus-demos-de-programas-cli/",
        disqus_title="SVG animados para tus demos de programas CLI",
        disqus_identifier="cache/posts/svg-animados-para-tus-demos-de-programas-cli.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2025         <a href="mailto:gaitan@gmail.com">Martín Gaitán</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js" integrity="sha256-ULQV01VS9LCI2ePpLsmka+W0mawFpEA0rtxnezUj4A4=" crossorigin="anonymous"></script><script src="../../assets/js/all.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un día",
               days: "%d días",
               month: "un mes",
               months: "%d meses",
               year: "un año",
               years: "%d años"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51074482-1', 'mgaitan.github.io');
      ga('send', 'pageview');

    </script>
</body>
</html>
