<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Mostrar u ocultar contenido, fácil | tin_nqn</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css" integrity="sha256-cLMYWYYutHkt+KpNqjg7NVkYSQ+E2VbrXsEvOqU7mL0=" crossorigin="anonymous">
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" hreflang="es" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="../../en/rss.xml">
<link rel="canonical" href="https://mgaitan.github.io/posts/mostrar-u-ocultar-contenido-facil/">
<!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><meta name="author" content="Martín Gaitán">
<link rel="prev" href="../yahoo-pipes-como-por-un-tubo/" title="Yahoo! Pipes como por un tubo" type="text/html">
<link rel="next" href="../suscribirse-a-los-comentarios-por/" title="Suscribirse a los comentarios por RSS" type="text/html">
<meta property="og:site_name" content="tin_nqn">
<meta property="og:title" content="Mostrar u ocultar contenido, fácil">
<meta property="og:url" content="https://mgaitan.github.io/posts/mostrar-u-ocultar-contenido-facil/">
<meta property="og:description" content="Adrian León consultó en la lista
spip-es:

Estoy intentado poner balizas de este tipo:
#BOUTON_BLOCK
#DEBUT_BLOCK
Desde el editor del sitio privado en el texto de un artículo. No
conozco la forma de q">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2009-02-26T06:12:34-02:00">
<meta property="article:tag" content="jQuery">
<meta property="article:tag" content="spip">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator:id" content="40654511">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-light bg-light
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="logo" href="../../">

            <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
            </div>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../about/" class="nav-link">Sobre mí</a>
                </li>
<li class="nav-item">
<a href="../../charlas/" class="nav-link">Charlas</a>
                </li>
<li class="nav-item">
<a href="../../archive.html" class="nav-link">Archivos</a>
                </li>
<li class="nav-item">
<a href="../../categories/index.html" class="nav-link">Categorías</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">RSS</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item">
                    <button class="nav-link theme-toggle" id="theme-toggle" type="button" aria-pressed="false" aria-label="Tema: Automático (sistema). Click para pasar a claro." title="Tema: Automático (sistema). Click para pasar a claro." data-mode="auto">
                        <svg class="theme-icon theme-icon-auto" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2V4a8 8 0 1 0 0 16z"></path></svg><svg class="theme-icon theme-icon-light" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg><svg class="theme-icon theme-icon-dark" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" aria-hidden="true"><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"></path></svg></button>
                </li>
                    <li>            </li>
<li class="nav-item"><a href="../../en/" rel="alternate" hreflang="en" class="nav-link">English</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Mostrar u ocultar contenido, fácil</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2009-02-26T06:12:34-02:00" itemprop="datePublished" title="2009-02-26 06:12">2009-02-26 06:12</time></a>
            </p>
                <p class="commentline">        <a href="#disqus_thread" data-disqus-identifier="cache/posts/mostrar-u-ocultar-contenido-facil.html">Comentarios</a>


            
        </p>
</div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Adrian León consultó en la lista
<a class="reference external" href="http://listes.rezo.net/mailman/listinfo/spip-es">spip-es</a>:</p>
<blockquote>
<p>Estoy intentado poner balizas de este tipo:</p>
<p>#BOUTON_BLOCK</p>
<p>#DEBUT_BLOCK</p>
<p>Desde el editor del sitio privado en el texto de un artículo. No
conozco la forma de que funcione desde ahí (sale escrito como texto
en la página resultante. ¿Hay alguna manera de hacerlo?</p>
</blockquote>
<p>Estaba intentando, me enteré después, usar <a class="reference external" href="http://www.spip-contrib.net/Block-deplier-replier">este
plugin</a></p>
<p>Al otro día yo contesté:</p>
<blockquote>
<p>Hola Adrián. Desconocía de qué hablabas hasta que Marina mandó el
link. Me parece que en el algunas ocasiones los plugins están
opacando las soluciones más eficientes e ingeniosas, esas que
buscabamos antes de que todo fuese "enchufable". <strong>¡Spip se está
wordpressisando!</strong></p>
<p>Lo que quiero decir es que me parece que hay formas mejores de hacer
eso. Yo tengo <a class="reference external" href="http://www.lavozdelanzarote.com/Carlos-Espino-cree-que-los">un ejemplo para
darte</a></p>
<p>Andá al pie del artículo, y hacé click en Opinar: despliega (u
oculta, depende del estado) el formulario de comentarios.</p>
<p>Es, sin balizas ni plugins, lo que parece que hace esa contrib.</p>
</blockquote>
<p>Y el código es de risa: un pelín de jQuery (con su efecto
<a class="reference external" href="http://docs.jquery.com/Effects/toggle">toggle()</a> )</p>
<p>El <a class="reference external" href="http://www.lavozdelanzarote.com/squelettes/inc_article.html">esqueleto del ejemplo que
propongo</a>
es bien sencillo. El formulario aparece encerrado en una <code class="docutils literal">div</code> y
escondido con la propiedad CSS <code class="docutils literal">display:none</code>. De manera simplificada
[<a class="reference external" href="../../blog/article/mostrar-u-ocultar-contenido-facil#nb1">1</a>] :</p>
<pre class="literal-block">[(#FORMULAIRE_FORUM)]</pre>
<p>Y el link que produce el efecto mostrar/ocultar (en este caso «opinar»
)tiene este código.</p>
<pre class="literal-block">Opinar</pre>
<p>En perfecto argentino se diría: ¡una papa!</p>
<p>Breve explicación: Al hacer click sobre el link, se ejecuta el evento
Onclick, que mendiante jQuery (que ya se encuentra en todo sitio SPIP si
existe la baliza #INSERT_HEAD en el <code class="docutils literal">&lt;head&gt;</code> de los esqueletos), se
busca la el bloque con ID «form-comment» (o sea, el <code class="docutils literal">div</code> contenedor
del formulario), y se aplica <code class="docutils literal">toggle()</code>, que es una funcion que si el
bloque está oculto, lo muestra, y se está visible lo oculta. Simple y
efectivo.</p>
<section id="permitiendo-el-uso-desde-la-redaccion"><h2>Permitiendo el uso desde la redacción</h2>
<p>Hasta aquí el reemplazo al plugin, que no da una solución completa a la
consulta de Adrían, porque esta solución también está programado en los
esqueletos del sitio. Pero, con simples modificaciones, se puede usar
dentro del texto de los artículos.</p>
<p>El truco es este: la balizas no se pueden usar en el texto, pero <strong>los
modelos</strong> sí. Y como spip respeta el HTML, tenemos solución: generamo el
link interruptor a través de <a class="reference external" href="http://www.spip.net/es_article3609.html">un
modelo</a>
[<a class="reference external" href="../../blog/article/mostrar-u-ocultar-contenido-facil#nb2">2</a>].</p>
<p>Creamos un modelo dentro de <em>modeles/toggle.html</em> (dentro de la carpeta
de nuestros esqueletos) con el siguiente código:</p>
<pre class="literal-block">#ENV{texto}</pre>
<p>¡Y listo!</p>
<p>Para usarlo, en el cuerpo del artículo se invocaría al modelo con dos
parámetros: el identificador del contenedor, y el texto de link
controlador.</p>
<p>Donde se quiera mostrar el link escribimos:</p>
<aside class="system-message"><p class="system-message-title">System Message: WARNING/2 (<span class="docutils literal">&lt;string&gt;</span>, line 95)</p>
<p>Literal block expected; none found.</p>
</aside><p>y donde queramos que vaya el contenido oculto:</p>
<pre class="literal-block">Hola amigos, esto es una astucia para el compañero Adrian!
&lt;/div&gt;</pre>
<p>Sólo hay que asegurarse de que el ID del contenedor sea el mismo que el
parametro <em>div</em> que pasamos a nuestro modelo. Por supuesto, esto permite
tener múltiples bloques ocultos y link controladores.</p>
</section><section id="el-resultado"><h2>El resultado</h2>
<p><a class="reference external" href="../../blog/article/mostrar-u-ocultar-contenido-facil#oculto">esto
funciona?</a></p>
<p>¡Hola amigos, esto es una astucia para el compañero Adrian!</p>
</section>
</div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/jquery/" rel="tag">jQuery</a></li>
            <li><a class="tag p-category" href="../../categories/spip/" rel="tag">spip</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../yahoo-pipes-como-por-un-tubo/" rel="prev" title="Yahoo! Pipes como por un tubo">Post anterior</a>
            </li>
            <li class="next">
                <a href="../suscribirse-a-los-comentarios-por/" rel="next" title="Suscribirse a los comentarios por RSS">Siguiente post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comentarios</h2>
                    <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="nqnwebs",
            disqus_url="https://mgaitan.github.io/posts/mostrar-u-ocultar-contenido-facil/",
        disqus_title="Mostrar u ocultar contenido, f\u00e1cil",
        disqus_identifier="cache/posts/mostrar-u-ocultar-contenido-facil.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2025         <a href="mailto:gaitan@gmail.com">Martín Gaitán</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js" integrity="sha256-ULQV01VS9LCI2ePpLsmka+W0mawFpEA0rtxnezUj4A4=" crossorigin="anonymous"></script><script src="../../assets/js/all.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
    (function() {
        var storageKey = 'theme-mode';
        var toggle = document.getElementById('theme-toggle');
        if (!toggle) return;
        var prefersDark = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;
        var modes = ['auto', 'light', 'dark'];

        function savedMode() {
            var stored = localStorage.getItem(storageKey);
            if (modes.indexOf(stored) !== -1) {
                return stored;
            }
            return 'auto';
        }

        function resolvedTheme(mode) {
            if (mode === 'light' || mode === 'dark') return mode;
            return prefersDark && prefersDark.matches ? 'dark' : 'light';
        }

        function labels(mode, resolved) {
            if (mode === 'auto') {
                return {
                    aria: "Tema: Automático (sistema). Click para pasar a claro.",
                    next: 'light'
                };
            }
            if (mode === 'light') {
                return {
                    aria: "Tema: Claro. Click para pasar a oscuro.",
                    next: 'dark'
                };
            }
            return {
                aria: "Tema: Oscuro. Click para pasar a automático.",
                next: 'auto'
            };
        }

        function apply(mode) {
            var resolved = resolvedTheme(mode);
            document.body.setAttribute('data-theme', resolved);
            document.body.setAttribute('data-theme-mode', mode);
            toggle.dataset.mode = mode;
            var label = labels(mode, resolved);
            toggle.setAttribute('aria-pressed', resolved === 'dark');
            toggle.setAttribute('aria-label', label.aria);
            toggle.setAttribute('title', label.aria);
        }

        function setMode(mode) {
            localStorage.setItem(storageKey, mode);
            apply(mode);
        }

        apply(savedMode());

        toggle.addEventListener('click', function() {
            var current = document.body.getAttribute('data-theme-mode') || savedMode();
            var next = labels(current).next;
            setMode(next);
        });

        if (prefersDark && prefersDark.addEventListener) {
            prefersDark.addEventListener('change', function() {
                if (savedMode() === 'auto') {
                    apply('auto');
                }
            });
        }
    })();
    </script><script src="../../assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un día",
               days: "%d días",
               month: "un mes",
               months: "%d meses",
               year: "un año",
               years: "%d años"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51074482-1', 'mgaitan.github.io');
      ga('send', 'pageview');

    </script>
</body>
</html>
