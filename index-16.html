<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="&gt;&gt;&gt; me.geek.post()">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>tin_nqn (posts antiguos, página 16) | tin_nqn</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css" integrity="sha256-cLMYWYYutHkt+KpNqjg7NVkYSQ+E2VbrXsEvOqU7mL0=" crossorigin="anonymous">
<link href="assets/css/all.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" hreflang="es" href="rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="en/rss.xml">
<link rel="canonical" href="https://mgaitan.github.io/index-16.html">
<link rel="prev" href="index-17.html" type="text/html">
<link rel="next" href="index-15.html" type="text/html">
<!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-light bg-light
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="logo" href=".">

            <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
            </div>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="about/" class="nav-link">Sobre mí</a>
                </li>
<li class="nav-item">
<a href="charlas/" class="nav-link">Charlas</a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archivos</a>
                </li>
<li class="nav-item">
<a href="categories/index.html" class="nav-link">Categorías</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li>            </li>
<li class="nav-item"><a href="en/" rel="alternate" hreflang="en" class="nav-link">English</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
    
    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/mirar-tu-smartphone-para-cuidar/" class="u-url">Mirar (tu smartphone) para cuidar</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/mirar-tu-smartphone-para-cuidar/" rel="bookmark">
            <time class="published dt-published" datetime="2013-06-01T09:50:39-03:00" itemprop="datePublished" title="2013-06-01 09:50">2013-06-01 09:50</time></a>
            </p>
                <p class="commentline">        <a href="posts/mirar-tu-smartphone-para-cuidar/#disqus_thread" data-disqus-identifier="cache/posts/mirar-tu-smartphone-para-cuidar.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Leo sobre el programa <a class="reference external" href="http://www.pagina12.com.ar/diario/economia/subnotas/221350-63733-2013-06-01.html">Mirar para cuidar</a>, la campaña de acción voluntaria para controlar el cumplimiento
del <a class="reference external" href="http://www.preciosensusitio.gov.ar/">acuerdo de precios</a> con los supermercados.</p>
<p class="more"><a href="posts/mirar-tu-smartphone-para-cuidar/">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pip-apurate-por-favor/" class="u-url">pip, apurate por favor</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/pip-apurate-por-favor/" rel="bookmark">
            <time class="published dt-published" datetime="2013-04-10T01:17:55-03:00" itemprop="datePublished" title="2013-04-10 01:17">2013-04-10 01:17</time></a>
            </p>
                <p class="commentline">        <a href="posts/pip-apurate-por-favor/#disqus_thread" data-disqus-identifier="cache/posts/pip_rapido.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p><a class="reference external" href="http://pip-installer.org/">pip</a>  es una herramienta esencial
para el trabajo diario de un programador python: es el manejador
de paquetes de nuestro entorno de trabajo (¡<a class="reference external" href="http://www.virtualenv.org/en/latest/">virtual</a> por favor!),
con el que instalamos, actualizamos o eliminamos las dependencias de nuestro proyecto
(y, recursivamente, las dependencias que estas pudieran tener).</p>
<p class="more"><a href="posts/pip-apurate-por-favor/">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/desambiguando-un-hash-en-git/" class="u-url">Desambiguando un hash en Git</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/desambiguando-un-hash-en-git/" rel="bookmark">
            <time class="published dt-published" datetime="2013-03-14T18:02:01-03:00" itemprop="datePublished" title="2013-03-14 18:02">2013-03-14 18:02</time></a>
            </p>
                <p class="commentline">        <a href="posts/desambiguando-un-hash-en-git/#disqus_thread" data-disqus-identifier="cache/posts/desambiguando-un-hash-en-git.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>Soy vago. Por eso me llevo bien con Git, que permite reconocer un changeset con un <a class="reference external" href="http://git-scm.com/book/ch6-1.html">pedacito de
su hash sha1</a> :</p>
<blockquote>
<p>Git is smart enough to figure out what commit you meant to type if you provide the first few characters, as long as your partial SHA-1 is at least four characters long and unambiguous — that is, only one object in the current repository begins with that partial SHA-1.</p>
</blockquote>
<p class="more"><a href="posts/desambiguando-un-hash-en-git/">Leer más…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/como-funciona-cuevana/" class="u-url">Cómo funciona Cuevana</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/como-funciona-cuevana/" rel="bookmark">
            <time class="published dt-published" datetime="2013-03-07T10:17:55-03:00" itemprop="datePublished" title="2013-03-07 10:17">2013-03-07 10:17</time></a>
            </p>
                <p class="commentline">        <a href="posts/como-funciona-cuevana/#disqus_thread" data-disqus-identifier="cache/posts/como_funciona_cuevana.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Estimando cuanto trabajo significa actualizar <a class="reference external" href="http://userscripts.org/scripts/show/98017">Cuevana sources</a>
y/o <a class="reference external" href="https://bitbucket.org/tin_nqn/cuevanalib">Cuevanalib</a>
investigué cómo funciona la nueva versión de cuevana.</p>
<p>Estas notas son el resultado de lo que fui observando.</p>
<p>Una vez que se elige un contenido, un iframe apunta a una URL con este forma:</p>
<blockquote>
<p><a class="reference external" href="http://www.cuevana.tv/player/sources?id=4773&amp;tipo=pelicula">http://www.cuevana.tv/player/sources?id=4773&amp;tipo=pelicula</a></p>
</blockquote>
<p>En código javascript inline define las fuentes disponibles para ese contenido</p>
<div class="code"><pre class="code javascript"><a id="rest_code_f9be638af3624b688604d0d162380ac0-1" name="rest_code_f9be638af3624b688604d0d162380ac0-1" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">plugin_ver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="nx">plugin_rev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<a id="rest_code_f9be638af3624b688604d0d162380ac0-2" name="rest_code_f9be638af3624b688604d0d162380ac0-2" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-2"></a><span class="kd">var</span><span class="w"> </span><span class="nx">actual_ver</span><span class="p">,</span><span class="w"> </span><span class="nx">actual_rev</span><span class="p">;</span>
<a id="rest_code_f9be638af3624b688604d0d162380ac0-3" name="rest_code_f9be638af3624b688604d0d162380ac0-3" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-3"></a>
<a id="rest_code_f9be638af3624b688604d0d162380ac0-4" name="rest_code_f9be638af3624b688604d0d162380ac0-4" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-4"></a><span class="kd">var</span><span class="w"> </span><span class="nx">sources</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_f9be638af3624b688604d0d162380ac0-5" name="rest_code_f9be638af3624b688604d0d162380ac0-5" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-5"></a><span class="w">    </span><span class="s2">"2"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_f9be638af3624b688604d0d162380ac0-6" name="rest_code_f9be638af3624b688604d0d162380ac0-6" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-6"></a><span class="w">        </span><span class="s2">"360"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"uptobox"</span><span class="p">,</span><span class="w"> </span><span class="s2">"uploadcore"</span><span class="p">,</span><span class="w"> </span><span class="s2">"vidbull"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bayfiles"</span><span class="p">,</span><span class="w"> </span><span class="s2">"filebox"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cramit"</span><span class="p">,</span><span class="w"> </span><span class="s2">"zalaa"</span><span class="p">],</span>
<a id="rest_code_f9be638af3624b688604d0d162380ac0-7" name="rest_code_f9be638af3624b688604d0d162380ac0-7" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-7"></a><span class="w">        </span><span class="s2">"720"</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"uploadcore"</span><span class="p">,</span><span class="w"> </span><span class="s2">"vidbull"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bayfiles"</span><span class="p">,</span><span class="w"> </span><span class="s2">"cramit"</span><span class="p">]</span>
<a id="rest_code_f9be638af3624b688604d0d162380ac0-8" name="rest_code_f9be638af3624b688604d0d162380ac0-8" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-8"></a><span class="w">    </span><span class="p">}</span>
<a id="rest_code_f9be638af3624b688604d0d162380ac0-9" name="rest_code_f9be638af3624b688604d0d162380ac0-9" href="posts/como-funciona-cuevana/#rest_code_f9be638af3624b688604d0d162380ac0-9"></a><span class="p">},</span><span class="w"> </span><span class="nx">sel_source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</pre></div>
<p>La primer clave (en este caso <code class="docutils literal">2</code>, inglés) es el idioma del audio,
y la segunda la calidad del video</p>
<p>Luego define diferentes constates:</p>
<div class="code"><pre class="code javascript"><a id="rest_code_9b044ccc9dfe418e843709becac58a47-1" name="rest_code_9b044ccc9dfe418e843709becac58a47-1" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-2" name="rest_code_9b044ccc9dfe418e843709becac58a47-2" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-2"></a><span class="w">    </span><span class="s1">'360'</span><span class="o">:</span><span class="w"> </span><span class="s1">'SD (360p)'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-3" name="rest_code_9b044ccc9dfe418e843709becac58a47-3" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-3"></a><span class="w">    </span><span class="s1">'480'</span><span class="o">:</span><span class="w"> </span><span class="s1">'SD (480p)'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-4" name="rest_code_9b044ccc9dfe418e843709becac58a47-4" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-4"></a><span class="w">    </span><span class="s1">'720'</span><span class="o">:</span><span class="w"> </span><span class="s1">'HD (720p)'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-5" name="rest_code_9b044ccc9dfe418e843709becac58a47-5" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-5"></a><span class="w">    </span><span class="s1">'1080'</span><span class="o">:</span><span class="w"> </span><span class="s1">'HD (1080p)'</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-6" name="rest_code_9b044ccc9dfe418e843709becac58a47-6" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-6"></a><span class="p">};</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-7" name="rest_code_9b044ccc9dfe418e843709becac58a47-7" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-7"></a><span class="kd">var</span><span class="w"> </span><span class="nx">labeli</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-8" name="rest_code_9b044ccc9dfe418e843709becac58a47-8" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-8"></a><span class="w">    </span><span class="s2">"1"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Espa\u00f1ol"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-9" name="rest_code_9b044ccc9dfe418e843709becac58a47-9" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-9"></a><span class="w">    </span><span class="s2">"2"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Ingl\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-10" name="rest_code_9b044ccc9dfe418e843709becac58a47-10" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-10"></a><span class="w">    </span><span class="s2">"3"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Portugu\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-11" name="rest_code_9b044ccc9dfe418e843709becac58a47-11" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-11"></a><span class="w">    </span><span class="s2">"4"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Alem\u00e1n"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-12" name="rest_code_9b044ccc9dfe418e843709becac58a47-12" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-12"></a><span class="w">    </span><span class="s2">"5"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Franc\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-13" name="rest_code_9b044ccc9dfe418e843709becac58a47-13" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-13"></a><span class="w">    </span><span class="s2">"6"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Coreano"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-14" name="rest_code_9b044ccc9dfe418e843709becac58a47-14" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-14"></a><span class="w">    </span><span class="s2">"7"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Italiano"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-15" name="rest_code_9b044ccc9dfe418e843709becac58a47-15" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-15"></a><span class="w">    </span><span class="s2">"8"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Tailand\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-16" name="rest_code_9b044ccc9dfe418e843709becac58a47-16" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-16"></a><span class="w">    </span><span class="s2">"9"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Ruso"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-17" name="rest_code_9b044ccc9dfe418e843709becac58a47-17" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-17"></a><span class="w">    </span><span class="s2">"10"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Mongol"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-18" name="rest_code_9b044ccc9dfe418e843709becac58a47-18" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-18"></a><span class="w">    </span><span class="s2">"11"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Polaco"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-19" name="rest_code_9b044ccc9dfe418e843709becac58a47-19" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-19"></a><span class="w">    </span><span class="s2">"12"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Esloveno"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-20" name="rest_code_9b044ccc9dfe418e843709becac58a47-20" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-20"></a><span class="w">    </span><span class="s2">"13"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Sueco"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-21" name="rest_code_9b044ccc9dfe418e843709becac58a47-21" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-21"></a><span class="w">    </span><span class="s2">"14"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Griego"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-22" name="rest_code_9b044ccc9dfe418e843709becac58a47-22" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-22"></a><span class="w">    </span><span class="s2">"15"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Canton\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-23" name="rest_code_9b044ccc9dfe418e843709becac58a47-23" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-23"></a><span class="w">    </span><span class="s2">"16"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Japon\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-24" name="rest_code_9b044ccc9dfe418e843709becac58a47-24" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-24"></a><span class="w">    </span><span class="s2">"17"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Dan\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-25" name="rest_code_9b044ccc9dfe418e843709becac58a47-25" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-25"></a><span class="w">    </span><span class="s2">"18"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Neerland\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-26" name="rest_code_9b044ccc9dfe418e843709becac58a47-26" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-26"></a><span class="w">    </span><span class="s2">"19"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Hebreo"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-27" name="rest_code_9b044ccc9dfe418e843709becac58a47-27" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-27"></a><span class="w">    </span><span class="s2">"20"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Serbio"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-28" name="rest_code_9b044ccc9dfe418e843709becac58a47-28" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-28"></a><span class="w">    </span><span class="s2">"21"</span><span class="o">:</span><span class="w"> </span><span class="s2">"\u00c1rabe"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-29" name="rest_code_9b044ccc9dfe418e843709becac58a47-29" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-29"></a><span class="w">    </span><span class="s2">"22"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Hindi"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-30" name="rest_code_9b044ccc9dfe418e843709becac58a47-30" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-30"></a><span class="w">    </span><span class="s2">"23"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Noruego"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-31" name="rest_code_9b044ccc9dfe418e843709becac58a47-31" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-31"></a><span class="w">    </span><span class="s2">"24"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Turco"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-32" name="rest_code_9b044ccc9dfe418e843709becac58a47-32" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-32"></a><span class="w">    </span><span class="s2">"26"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Mandar\u00edn"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-33" name="rest_code_9b044ccc9dfe418e843709becac58a47-33" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-33"></a><span class="w">    </span><span class="s2">"27"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Nepal\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-34" name="rest_code_9b044ccc9dfe418e843709becac58a47-34" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-34"></a><span class="w">    </span><span class="s2">"28"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Rumano"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-35" name="rest_code_9b044ccc9dfe418e843709becac58a47-35" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-35"></a><span class="w">    </span><span class="s2">"29"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Iran\u00ed"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-36" name="rest_code_9b044ccc9dfe418e843709becac58a47-36" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-36"></a><span class="w">    </span><span class="s2">"30"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Est\u00f3n"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-37" name="rest_code_9b044ccc9dfe418e843709becac58a47-37" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-37"></a><span class="w">    </span><span class="s2">"31"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Bosnio"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-38" name="rest_code_9b044ccc9dfe418e843709becac58a47-38" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-38"></a><span class="w">    </span><span class="s2">"32"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Checo"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-39" name="rest_code_9b044ccc9dfe418e843709becac58a47-39" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-39"></a><span class="w">    </span><span class="s2">"33"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Croata"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-40" name="rest_code_9b044ccc9dfe418e843709becac58a47-40" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-40"></a><span class="w">    </span><span class="s2">"34"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Fin\u00e9s"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-41" name="rest_code_9b044ccc9dfe418e843709becac58a47-41" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-41"></a><span class="w">    </span><span class="s2">"35"</span><span class="o">:</span><span class="w"> </span><span class="s2">"H\u00fanagro"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-42" name="rest_code_9b044ccc9dfe418e843709becac58a47-42" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-42"></a><span class="w">    </span><span class="s2">"36"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Persa"</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-43" name="rest_code_9b044ccc9dfe418e843709becac58a47-43" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-43"></a><span class="w">    </span><span class="s2">"38"</span><span class="o">:</span><span class="w"> </span><span class="s2">"Indonesio"</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-44" name="rest_code_9b044ccc9dfe418e843709becac58a47-44" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-44"></a><span class="p">};</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-45" name="rest_code_9b044ccc9dfe418e843709becac58a47-45" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-45"></a><span class="kd">var</span><span class="w"> </span><span class="nx">labelh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-46" name="rest_code_9b044ccc9dfe418e843709becac58a47-46" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-46"></a><span class="w">    </span><span class="s1">'filebox'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Filebox'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-47" name="rest_code_9b044ccc9dfe418e843709becac58a47-47" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-47"></a><span class="w">    </span><span class="s1">'uptobox'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Uptobox (NUEVO)'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-48" name="rest_code_9b044ccc9dfe418e843709becac58a47-48" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-48"></a><span class="w">    </span><span class="s1">'uploadcore'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Uploadcore (NUEVO)'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-49" name="rest_code_9b044ccc9dfe418e843709becac58a47-49" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-49"></a><span class="w">    </span><span class="s1">'vidbull'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Vidbull (NUEVO)'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-50" name="rest_code_9b044ccc9dfe418e843709becac58a47-50" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-50"></a><span class="w">    </span><span class="s1">'zalaa'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Zalaa'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-51" name="rest_code_9b044ccc9dfe418e843709becac58a47-51" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-51"></a><span class="w">    </span><span class="s1">'cramit'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Cramit'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-52" name="rest_code_9b044ccc9dfe418e843709becac58a47-52" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-52"></a><span class="w">    </span><span class="s1">'180upload'</span><span class="o">:</span><span class="w"> </span><span class="s1">'180upload'</span><span class="p">,</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-53" name="rest_code_9b044ccc9dfe418e843709becac58a47-53" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-53"></a><span class="w">    </span><span class="s1">'bayfiles'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Bayfiles'</span>
<a id="rest_code_9b044ccc9dfe418e843709becac58a47-54" name="rest_code_9b044ccc9dfe418e843709becac58a47-54" href="posts/como-funciona-cuevana/#rest_code_9b044ccc9dfe418e843709becac58a47-54"></a><span class="p">};</span>
</pre></div>
<p>El usuario selecciona mediante un menú donde se define <code class="docutils literal">audio</code>, <code class="docutils literal">quality</code> y <code class="docutils literal">source</code>
que se configuran como atributos data del link:</p>
<pre class="literal-block">.. code-block::</pre>
<blockquote>
<p>&lt;a class="sel" data-type="quality" data-id="360"&gt;SD (360p)&lt;/a&gt;</p>
</blockquote>
<p>Donde <code class="docutils literal"><span class="pre">data-type</span></code> es el tipo de variable, <code class="docutils literal"><span class="pre">data-id</span></code> el valor para esa opción
y <code class="docutils literal"><span class="pre">class="sel"</span></code> determina si esa es la opción seleccionada.</p>
<p>Cuando se hace click en el botón Play se invoca la URL:</p>
<pre class="literal-block">http://www.cuevana.tv/player/source_get?def=**quality**&amp;audio=**audio**&amp;host=**source**&amp;id=4773&amp;tipo=pelicula</pre>
<p>Por ejemplo:</p>
<pre class="literal-block">http://www.cuevana.tv/player/source_get?def=360&amp;audio=2&amp;host=bayfiles&amp;id=4773&amp;tipo=pelicula</pre>
<p>Esta página presenta el captcha, que una vez superado redirige a la URL:</p>
<pre class="literal-block">http://go.cuevana.tv/?*URL_DESTINO*</pre>
<p>Por ejemplo:</p>
<pre class="literal-block">http://go.cuevana.tv/?http%3A%2F%2Fbayfiles.com%2Ffile%2FvIsf%2FkTvfNj%2Fthe.apparition.2012.bdrip.xvid-sparks.mp4%3Fcid%3D4773%26ctipo%3Dpelicula%26cdef%3D360</pre>
<p>Que a su vez redirige a <em>URL_DESTINO</em> que es la URL del servicio donde el video está hosteado
con parámetros extra: <code class="docutils literal"><span class="pre">?cid=4773&amp;ctipo=pelicula&amp;cdef=360</span></code>. En el ejemplo anterior:</p>
<blockquote>
<p><a class="reference external" href="http://bayfiles.com/file/vIsf/kTvfNj/the.apparition.2012.bdrip.xvid-sparks.mp4**?cid=4773&amp;ctipo=pelicula&amp;cdef=360**">http://bayfiles.com/file/vIsf/kTvfNj/the.apparition.2012.bdrip.xvid-sparks.mp4**?cid=4773&amp;ctipo=pelicula&amp;cdef=360**</a></p>
</blockquote>
<p>Aquí entra en juego el "plugin de cuevana". Se puede bajar por ejemplo
la versión para Firefox desde <a class="reference external" href="http://www.cuevana.tv/player/plugins/cstream-5.0.xpi">http://www.cuevana.tv/player/plugins/cstream-5.0.xpi</a>
Descomprimirlo con unzip y abrir el archivo <code class="docutils literal">content/cuevanastream.js</code></p>
<p>La presencia de los parámetros <code class="docutils literal"><span class="pre">cid``y</span> ``ctipo</code> y una url de alguno de los servicios
que usa Cuevana hace que se inyecte un javascript en la URL del servicio.</p>
<div class="code"><pre class="code javascript"><a id="rest_code_67227b1144164bff80b814ed82d2b9c4-1" name="rest_code_67227b1144164bff80b814ed82d2b9c4-1" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">loc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/cid=/i</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/ctipo=/i</span><span class="p">));</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-2" name="rest_code_67227b1144164bff80b814ed82d2b9c4-2" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-2"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^http:\/\/(www\.)?bayfiles\.com/i</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">loc</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-3" name="rest_code_67227b1144164bff80b814ed82d2b9c4-3" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-3"></a><span class="w">    </span><span class="nx">addScript</span><span class="p">(</span><span class="s1">'bayfiles'</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-4" name="rest_code_67227b1144164bff80b814ed82d2b9c4-4" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-4"></a><span class="p">}</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-5" name="rest_code_67227b1144164bff80b814ed82d2b9c4-5" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-5"></a>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-6" name="rest_code_67227b1144164bff80b814ed82d2b9c4-6" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-6"></a><span class="w">    </span><span class="c1">// más servicios</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-7" name="rest_code_67227b1144164bff80b814ed82d2b9c4-7" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-7"></a>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-8" name="rest_code_67227b1144164bff80b814ed82d2b9c4-8" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-8"></a><span class="w">  </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^http:\/\/(www\.|beta\.)?cuevana\.(com|co|tv|me)/i</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-9" name="rest_code_67227b1144164bff80b814ed82d2b9c4-9" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-9"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-10" name="rest_code_67227b1144164bff80b814ed82d2b9c4-10" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-10"></a><span class="w">    </span><span class="nx">n</span><span class="p">.</span><span class="nx">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'plugin_ok'</span><span class="p">;</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-11" name="rest_code_67227b1144164bff80b814ed82d2b9c4-11" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-11"></a><span class="w">    </span><span class="nx">n</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'data-version'</span><span class="p">,</span><span class="w"> </span><span class="s1">'5'</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-12" name="rest_code_67227b1144164bff80b814ed82d2b9c4-12" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-12"></a><span class="w">    </span><span class="nx">n</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'data-revision'</span><span class="p">,</span><span class="w"> </span><span class="s1">'0'</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-13" name="rest_code_67227b1144164bff80b814ed82d2b9c4-13" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-13"></a><span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-14" name="rest_code_67227b1144164bff80b814ed82d2b9c4-14" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-14"></a><span class="p">}</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-15" name="rest_code_67227b1144164bff80b814ed82d2b9c4-15" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-15"></a>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-16" name="rest_code_67227b1144164bff80b814ed82d2b9c4-16" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-16"></a><span class="kd">function</span><span class="w"> </span><span class="nx">addScript</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-17" name="rest_code_67227b1144164bff80b814ed82d2b9c4-17" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-17"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-18" name="rest_code_67227b1144164bff80b814ed82d2b9c4-18" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-18"></a><span class="w">    </span><span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'type'</span><span class="p">,</span><span class="w"> </span><span class="s1">'text/javascript'</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-19" name="rest_code_67227b1144164bff80b814ed82d2b9c4-19" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-19"></a><span class="w">    </span><span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'src'</span><span class="p">,</span><span class="w"> </span><span class="s1">'http://sc.cuevana.tv/player/scripts/5/'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'.js'</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-20" name="rest_code_67227b1144164bff80b814ed82d2b9c4-20" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-20"></a><span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'head'</span><span class="p">)[</span><span class="mf">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
<a id="rest_code_67227b1144164bff80b814ed82d2b9c4-21" name="rest_code_67227b1144164bff80b814ed82d2b9c4-21" href="posts/como-funciona-cuevana/#rest_code_67227b1144164bff80b814ed82d2b9c4-21"></a><span class="p">}</span>
</pre></div>
<p>En ese caso se inyecta el javascript:</p>
<pre class="literal-block">http://sc.cuevana.tv/player/scripts/5/bayfiles.js</pre>
<p>Que es el encargado de parsear html para obtener la url real de descarga,
resolver/exponer el captcha si existiera, esperar el tiempo de guarda
del servicio y redirigir al reproductor de cuevana:</p>
<pre class="literal-block">window.location.href = 'http://www.cuevana.tv/#!/' + tipo + '/' + id + '/play/url:' + encodeURIComponent(a) + '/def:' + vars['cdef'];</pre>
<p>Donde tipo es <code class="docutils literal">series</code> o <code class="docutils literal">peliculas</code>, <code class="docutils literal">id</code> es el identificador del contenido,
def es <code class="docutils literal">360</code> o <code class="docutils literal">720</code> y <code class="docutils literal">a</code> es la url final del archivo mp4</p>
<blockquote>
<p><a class="reference external" href="http://www.cuevana.tv/#!/">http://www.cuevana.tv/#!/</a>' + tipo + '/' + id + '/play/url:' + encodeURIComponent(a) + '/def:' + vars['cdef'];</p>
</blockquote>
<p>El reproductor carga el subtitulo desde la siguientes URL.</p>
<p>Para series:</p>
<blockquote>
<p><a class="reference external" href="http://sc.cuevana.tv/files/s/sub/">http://sc.cuevana.tv/files/s/sub/</a><strong>ID**_**LANG</strong>.srt</p>
</blockquote>
<p>Donde <code class="docutils literal">ID</code> es el identificador del contenido y <code class="docutils literal">LANG</code> es el código
del idioma en 2 letras mayúsculas (ES, EN, etc.)</p>
<p>Para contenidos HD se agrega el sufijo <em>_720</em>:</p>
<pre class="literal-block">http://sc.cuevana.tv/files/s/sub/**ID**_**LANG**_720.srt</pre>
<p>Para peliculas es análogo pero un nivel más arriba:</p>
<pre class="literal-block">http://sc.cuevana.tv/files/sub/**ID**_**LANG**.srt</pre>
<p>Y eso es todo lo que necesitamos saber.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/metiendose-cosas-en-la-nariz/" class="u-url">Metiéndose cosas en la nariz</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/metiendose-cosas-en-la-nariz/" rel="bookmark">
            <time class="published dt-published" datetime="2013-02-26T22:17:55-03:00" itemprop="datePublished" title="2013-02-26 22:17">2013-02-26 22:17</time></a>
            </p>
                <p class="commentline">        <a href="posts/metiendose-cosas-en-la-nariz/#disqus_thread" data-disqus-identifier="cache/posts/metiendose-cosas-en-la-nariz.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p><a class="reference external" href="https://nose.readthedocs.org">nose</a> es un excelente <em>framework</em> para testing en python. Es mucho más
que un <em>testrunner</em> inteligente: tiene un conjunto de extensiones y shortcuts
de aserciones de <code class="docutils literal">unittest</code>, soporta fixtures y setups/teardown
por paquetes, y viene con un montón de plugins incorporados.</p>
<blockquote>
<p>"nose extends unittest to make testing easier"</p>
</blockquote>
<p>dice el eslogan y eso es lo que queremos: tests más fáciles de escribir,
más rápidos de ejecutar.</p>
<p>De plugins y opciones que potencian esta idea se trata este post.</p>
<section id="nose-progressive"><h2>nose-progressive</h2>
<blockquote class="epigraph">
<p>Ah, beautiful dots</p>
<p class="attribution">—<a class="reference external" href="http://blog.mozilla.org/webdev/2011/04/14/a-humane-python-test-runner/">Erik Rose</a></p>
</blockquote>
<p><em>"Puntito, puntito, puntito, puntito..."</em>, cuenta mi mente en standby
cuando los test van pasando, como ovejitas que saltan un cerco.
Pero, oh desdicha, una "efe", la oveja negra que falla, aparece
en la pantalla y la ansiedad por saber cuál nos invade.</p>
<p>El problema es que por default (con <code class="docutils literal"><span class="pre">--verbose=1</span></code>), nose
pospone el detalle de errores y fallos hasta el final de la corrida.
En suites gigantes (que demoran más de 30 minutos en completarse,
por ejemplo) esto es un engorro.</p>
<p><a class="reference external" href="https://pypi.python.org/pypi/nose-progressive/">nose-progressive</a> reemplaza la interfaz de usuario por una mucho más
amigable y bonita. En vez de puntitos, una barra de progreso al pie de la
pantalla va indicando el progreso satisfactorio, y deja el resto de la pantalla
para mostrar errores y fallos <em>on the fly</em>.</p>
<img alt="https://raw.github.com/erikrose/nose-progressive/master/in_progress.png" src="https://raw.github.com/erikrose/nose-progressive/master/in_progress.png"><p>Como si fuera poco, te da shortcuts a la línea donde se produjo un fallo
(por ejemplo: <code class="docutils literal">vim +258 common/tests/test_guideplan.py</code>), simplifica los
tracebacks a la parte útil, e incluye colores usados con criterio
(basada en la genial biblioteca <a class="reference external" href="https://pypi.python.org/pypi/blessings">blessing</a>, del mismo autor).</p>
<p>Para instalarlo, lo de siempre:</p>
<div class="code"><pre class="code bash"><a id="rest_code_25c7e282c7b249cabddfdad04d5295d6-1" name="rest_code_25c7e282c7b249cabddfdad04d5295d6-1" href="posts/metiendose-cosas-en-la-nariz/#rest_code_25c7e282c7b249cabddfdad04d5295d6-1"></a><span class="o">(</span>env<span class="o">)</span><span class="w"> </span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>nose-progressive
</pre></div>
<p>Para usarlo, agregar <code class="docutils literal"><span class="pre">--with-progressive</span></code> como parámetros de <code class="docutils literal">nosetests</code>,
o bien, para usarlo siempre, configurarlo en <code class="docutils literal">.noserc</code> o en la
variable <code class="docutils literal">NOSE_ARGS</code> de <a class="reference external" href="https://github.com/jbalogh/django-nose">django-nose</a></p>
</section><section id="django-nose"><h2>django-nose</h2>
<p>Si trabajás con Django esto quizas suene a perogrullada, pero <a class="reference external" href="https://github.com/jbalogh/django-nose">django-nose</a>
es la vuelta de tuerca que faltaba para que la nariz brille en este entorno.
Con django-nose por defecto sólo se corren los tests del proyecto y no
los de todas las aplicaciones instaladas (que, se supone, tienen sus propios
tests).</p>
<p>Y entre otras opciones o, tiene  un modo de reuso de la base de datos,
(configurando <code class="docutils literal">REUSE_DB=1</code> como variable de entorno), que nos evita la creación
de tablas en cada corrida, ahorrando unos cuantos segundos de setup en aplicaciones
como muchos modelos. Por supuesto, si la base de datos cambia (porque
se agregó un modelo o se se migró con <a class="reference external" href="http://south.aeracode.org/">South</a>) tenés que asegurarte
que la variable está en 0 para que cree la última version</p>
</section><section id="with-id-failed"><h2>with-id + failed</h2>
<p>La opción <a class="reference external" href="https://nose.readthedocs.org/en/latest/usage.html?highlight=with-id#cmdoption--with-id">--with-id</a>
(estrictamente el plugin <code class="docutils literal">TestId</code>, que viene en las baterías incluídas de nose)
le asigna un número único a cada test ejecutado,
y los guarda en el archivito <code class="docutils literal">.noseids</code> junto con su path y el
resultado de la última corrida.</p>
<p>Lo bueno es que pasando <code class="docutils literal"><span class="pre">--with-id</span> <span class="pre">--failed</span></code> nose usa esa información
y ejecuta solamente los tests que fallaron en la última corrida,
permitiendo una rápida iteración <em>"falla/corrección"</em>.</p>
</section><section id="nose-selecttests"><h2>nose-selecttests</h2>
<p>Frecuentemente sucede que tenemos caso (una subclase de <code class="docutils literal">TestCase</code>)
con muchas pruebas (métodos) que están lógicamente agrupadas
porque comparten un setup, por ejemplo,
y sin embargo sólo queremos correr un subconjunto.</p>
<p>Sabemos que como es inteligente y poco burocrático, nose no sólo ejecuta
tests definidos como subclases de <code class="docutils literal">unittest.TestCase</code> sino
cualquier paquete, módulo, función o clase
que <em>matchee</em> una expresión regular, que por defecto es <code class="docutils literal"><span class="pre">(?:^|[b_./-])[Tt]est</span></code>
Con el parámetro <a class="reference external" href="https://nose.readthedocs.org/en/latest/usage.html?highlight=with-id#cmdoption-m">-m</a>
se puede redefinir este patrón, pero igualmente no aplica a nivel
métodos.</p>
<p>Por eso existe <a class="reference external" href="https://github.com/iElectric/nose-selecttests">nose-selecttests</a>, que permite filtrar pruebas con
determinada subcadena en el nombre del método.</p>
<p>Por ejemplo:</p>
<div class="code"><pre class="code bash"><a id="rest_code_f8ea858c94d843a9a594123df8f40e73-1" name="rest_code_f8ea858c94d843a9a594123df8f40e73-1" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-1"></a>$<span class="w"> </span>djntest<span class="w"> </span>-v<span class="w"> </span><span class="m">2</span><span class="w"> </span>common/tests/test_sequence_diff.py
<a id="rest_code_f8ea858c94d843a9a594123df8f40e73-2" name="rest_code_f8ea858c94d843a9a594123df8f40e73-2" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-2"></a>
<a id="rest_code_f8ea858c94d843a9a594123df8f40e73-3" name="rest_code_f8ea858c94d843a9a594123df8f40e73-3" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-3"></a><span class="c1">#2976 test_differ_in_fk (cpi_mrp.apps.common.tests.test_sequence_diff.TestInstanceDiff) ... ok</span>
<a id="rest_code_f8ea858c94d843a9a594123df8f40e73-4" name="rest_code_f8ea858c94d843a9a594123df8f40e73-4" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-4"></a><span class="c1">#2977 test_differ_in_m2m (cpi_mrp.apps.common.tests.test_sequence_diff.TestInstanceDiff) ... ok</span>
<a id="rest_code_f8ea858c94d843a9a594123df8f40e73-5" name="rest_code_f8ea858c94d843a9a594123df8f40e73-5" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-5"></a><span class="c1">#2979 test_multiple_diff (cpi_mrp.apps.common.tests.test_sequence_diff.TestInstanceDiff) ... ok</span>
<a id="rest_code_f8ea858c94d843a9a594123df8f40e73-6" name="rest_code_f8ea858c94d843a9a594123df8f40e73-6" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-6"></a><span class="c1">#2980 test_only_compare_same_type (cpi_mrp.apps.common.tests.test_sequence_diff.TestInstanceDiff) ... ok</span>
<a id="rest_code_f8ea858c94d843a9a594123df8f40e73-7" name="rest_code_f8ea858c94d843a9a594123df8f40e73-7" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-7"></a>
<a id="rest_code_f8ea858c94d843a9a594123df8f40e73-8" name="rest_code_f8ea858c94d843a9a594123df8f40e73-8" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-8"></a>----------------------------------------------------------------------
<a id="rest_code_f8ea858c94d843a9a594123df8f40e73-9" name="rest_code_f8ea858c94d843a9a594123df8f40e73-9" href="posts/metiendose-cosas-en-la-nariz/#rest_code_f8ea858c94d843a9a594123df8f40e73-9"></a>Ran<span class="w"> </span><span class="m">4</span><span class="w"> </span>tests<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.375s
</pre></div>
<p>En cambio:</p>
<div class="code"><pre class="code bash"><a id="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-1" name="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-1" href="posts/metiendose-cosas-en-la-nariz/#rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-1"></a>$<span class="w"> </span>djntest<span class="w"> </span>--select-tests<span class="o">=</span>differ<span class="w"> </span>-v<span class="w"> </span><span class="m">2</span><span class="w"> </span>apps/common/tests/test_sequence_diff.py
<a id="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-2" name="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-2" href="posts/metiendose-cosas-en-la-nariz/#rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-2"></a>
<a id="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-3" name="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-3" href="posts/metiendose-cosas-en-la-nariz/#rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-3"></a><span class="c1">#2976 test_differ_in_fk (cpi_mrp.apps.common.tests.test_sequence_diff.TestInstanceDiff) ... ok</span>
<a id="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-4" name="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-4" href="posts/metiendose-cosas-en-la-nariz/#rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-4"></a><span class="c1">#2977 test_differ_in_m2m (cpi_mrp.apps.common.tests.test_sequence_diff.TestInstanceDiff) ... ok</span>
<a id="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-5" name="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-5" href="posts/metiendose-cosas-en-la-nariz/#rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-5"></a>----------------------------------------------------------------------
<a id="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-6" name="rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-6" href="posts/metiendose-cosas-en-la-nariz/#rest_code_8e2d62b1ec7a4bd585f4f946371dea2e-6"></a>Ran<span class="w"> </span><span class="m">2</span><span class="w"> </span>tests<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.088s
</pre></div>
</section><section id="django-tests-autocomplete"><h2>django-tests-autocomplete</h2>
<p>Esta herramienta no es estrictamente un plugin de nose, sino un helper
que aprovecha las posibilidades de bash para
<a class="reference external" href="http://bash-completion.alioth.debian.org/">autocompletar</a> usando la tecla
tab.</p>
<p>¿Para qué sirve? nose acepta un path (o muchos) para especificar qué test correr:</p>
<div class="code"><pre class="code bash"><a id="rest_code_85366fd769b849498b8b9f75bb97dcd5-1" name="rest_code_85366fd769b849498b8b9f75bb97dcd5-1" href="posts/metiendose-cosas-en-la-nariz/#rest_code_85366fd769b849498b8b9f75bb97dcd5-1"></a>$<span class="w"> </span>nosetests<span class="w"> </span>path/to/test.py
</pre></div>
<p>Pero también permite afinar la puntería y "meterse" adentro del módulo:</p>
<div class="code"><pre class="code bash"><a id="rest_code_2513e42f918a4a0fbe1f76407243a0e6-1" name="rest_code_2513e42f918a4a0fbe1f76407243a0e6-1" href="posts/metiendose-cosas-en-la-nariz/#rest_code_2513e42f918a4a0fbe1f76407243a0e6-1"></a>$<span class="w"> </span>nosetests<span class="w"> </span>path/to/test.py:MyImportantTestCase
</pre></div>
<p>E incluso adentro del testcase:</p>
<div class="code"><pre class="code bash"><a id="rest_code_010fd597ea7c42d28f2874c2e3fc51b6-1" name="rest_code_010fd597ea7c42d28f2874c2e3fc51b6-1" href="posts/metiendose-cosas-en-la-nariz/#rest_code_010fd597ea7c42d28f2874c2e3fc51b6-1"></a>$<span class="w"> </span>nosetests<span class="w"> </span>path/to/test.py:MyImportantTestCase.test_super_important
</pre></div>
<p>Desde el <code class="docutils literal">:</code> en adelante estamos en Python y Bash ya no sabe autocompletar,
salvo que usemos esta herramienta que instrospecciona y "alimenta" el
autocompleter.</p>
<p>Lo hizo Javi Mansilla en <a class="reference external" href="http://machinalis.com">Machinalis</a> y
<a class="reference external" href="https://github.com/machinalis/django-test-autocomplete#future-features">busca ayuda</a>
para mejorarlo y generalizarlo.</p>
<p>¿No sería buenísimo que esto estuviese built-in en nose? ¿Nos ayudarías?</p>
</section><section id="nose-timer"><h2>nose-timer</h2>
<p>¿Cuánto tiempo insume cada test? Instalá <a class="reference external" href="https://github.com/mahmoudimus/nose-timer/">nose-timer</a> y activalo (con <code class="docutils literal"><span class="pre">--with-timer</span></code>)
para saber la respuesta.</p>
</section><section id="nose-ipdb"><h2>nose-ipdb</h2>
<p>nose tiene una opción <code class="docutils literal"><span class="pre">--pdb</span></code> (o la más estricta <code class="docutils literal"><span class="pre">--ipdb-failures</span></code>)
que nos manda al debugger cuando un test falla o da error.</p>
<p><a class="reference external" href="https://github.com/flavioamieiro/nose-ipdb">nose-ipdb</a> lo imita, pero usando el más pulenta de los debuggers: <a class="reference external" href="https://pypi.python.org/pypi/ipdb">ipdb</a>.</p>
<p>Suficiente por hoy. Pero ¿me estoy perdiendo alguna cosa interesante
para meter en mi nariz?</p>
</section>
</div>
    </article>
</div>
        <ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-17.html" rel="prev">Posts posteriores</a></li>
            <li class="next"><a href="index-15.html" rel="next">Posts anteriores</a></li>
        </ul>
<script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2024         <a href="mailto:gaitan@gmail.com">Martín Gaitán</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js" integrity="sha256-ULQV01VS9LCI2ePpLsmka+W0mawFpEA0rtxnezUj4A4=" crossorigin="anonymous"></script><script src="assets/js/all.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un día",
               days: "%d días",
               month: "un mes",
               months: "%d meses",
               year: "un año",
               years: "%d años"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51074482-1', 'mgaitan.github.io');
      ga('send', 'pageview');

    </script>
</body>
</html>
