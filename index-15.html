<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="description" content="&gt;&gt;&gt; me.geek.post()">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>tin_nqn (posts antiguos, página 15) | tin_nqn</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css" integrity="sha256-cLMYWYYutHkt+KpNqjg7NVkYSQ+E2VbrXsEvOqU7mL0=" crossorigin="anonymous">
<link href="assets/css/all.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" hreflang="es" href="rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" hreflang="en" href="en/rss.xml">
<link rel="canonical" href="https://mgaitan.github.io/index-15.html">
<link rel="prev" href="index-16.html" type="text/html">
<link rel="next" href="index-14.html" type="text/html">
<!--[if lt IE 9]><script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-light bg-light
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="logo" href=".">

            <div id="blog-title">
                    tin_nqn
                    <span id="blog-description">&gt;&gt;&gt; me.geek.post()</span>
            </div>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="about/" class="nav-link">Sobre mí</a>
                </li>
<li class="nav-item">
<a href="charlas/" class="nav-link">Charlas</a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archivos</a>
                </li>
<li class="nav-item">
<a href="categories/index.html" class="nav-link">Categorías</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li>            </li>
<li class="nav-item"><a href="en/" rel="alternate" hreflang="en" class="nav-link">English</a></li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
    
    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/creando-un-nuevo-proyecto-python/" class="u-url">Creando un nuevo proyecto Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/creando-un-nuevo-proyecto-python/" rel="bookmark">
            <time class="published dt-published" datetime="2012-11-12T00:34:23-03:00" itemprop="datePublished" title="2012-11-12 00:34">2012-11-12 00:34</time></a>
            </p>
                <p class="commentline">        <a href="posts/creando-un-nuevo-proyecto-python/#disqus_thread" data-disqus-identifier="cache/posts/creando-un-nuevo-proyecto-python.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>¿Así que querés comenzar un nuevo proyecto usando Python?
¡Felicitaciones! ¿Querés que tenga la estructura recomendada para
proyectos modernos? ¿Querés que sea instalable fácilmente? ¿Querés que
no se te arme lio de dependencias que colisionan con las de otros
proyectos ? Bien, te propongo esta receta.</p>
<section id="las-herramientas"><h2>Las herramientas</h2>
<ul class="simple">
<li><p><a class="reference external" href="http://www.virtualenv.org">Virtualenv</a>:  es una herramienta para aislar tu entorno de
desarrollo python. Es muy pero muy útil para evitar conflictos entre las
dependencias de tus distintos proyectos.</p></li>
<li><p><a class="reference external" href="http://www.doughellmann.com/projects/virtualenvwrapper/">virtualenvwrapper</a>: es un conjunto de extensiones que
hacen la vida del usuario <em>virtualenv</em> aun más feliz, permitiendo crear
y borrar entornos virtuales, asociarlos a un proyecto, automatizar
tareas al activar o desactivar uno, etc.</p></li>
<li><p><a class="reference external" href="http://www.pip-installer.org">pip</a>: es la herramienta moderna, correcta y recomendada
para administrar los paquetes python instalados en tu
sistema/virtualenv. Es un reemplazo de <em>easy_install</em></p></li>
<li><p><a class="reference external" href="http://packages.python.org/distribute/">Distribute</a>: es la herramienta moderna y recomendada para
distribuir tu paquete python. Es un fork de <em>setuptools</em> (que es, a su
vez, una mejora sobre el módulo estándar <em>distutils</em>)</p></li>
<li><p><a class="reference external" href="https://github.com/stumitchell/skeleton">skeleton</a> es una herramienta que define <em>plantillas</em>
para iniciar un proyecto, generando la estructura básica necesaria. Es
similar a <a class="reference external" href="http://python.org.ar/pyar/PasteScript">PasteScript</a> pero enfocado en esta
tarea concreta, sin dependencias y compatible con Python 3.x</p></li>
</ul></section><section id="la-receta"><h2>La receta</h2>
<ol class="arabic">
<li>
<p>Instalá pip:</p>
<pre class="literal-block">$ sudo apt-get install python-pip</pre>
<p>o bien directamente:</p>
<pre class="literal-block">$ sudo curl https://raw.github.com/pypa/pip/master/contrib/get-pip.py | python</pre>
</li>
<li>
<p>Instalá virtualenwrapper y skeleton:</p>
<pre class="literal-block">$ sudo pip install virtualenwrapper
$ sudo pip install git+git://github.com/stumitchell/skeleton.git#egg=skeleton</pre>
</li>
</ol>
<aside class="admonition note"><p class="admonition-title">Nota</p>
<p>Notar que <em>skeleton</em> se está instalando desde un <em>fork</em> del proyecto
original (aparentemente desmantenida), que resuelve bugs importantes</p>
</aside><ol class="arabic" start="3">
<li>
<p>Configurá virtualenvwrapper</p>
<div class="code"><pre class="code bash"><a id="rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-1" name="rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-1" href="posts/creando-un-nuevo-proyecto-python/#rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-1"></a>$<span class="w"> </span>mkdir<span class="w"> </span>~/.virtualenvs<span class="w">           </span><span class="c1"># acá se van a guardar tus entornos virtuales</span>
<a id="rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-2" name="rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-2" href="posts/creando-un-nuevo-proyecto-python/#rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-2"></a>$<span class="w"> </span>mkdir<span class="w"> </span>~/proyectos<span class="w">              </span><span class="c1"># acá se van a guardar tus proyectos</span>
<a id="rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-3" name="rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-3" href="posts/creando-un-nuevo-proyecto-python/#rest_code_efbbe95d1c2b4d83ad5bb9f9cddef8ba-3"></a>$<span class="w"> </span>mkdir<span class="w"> </span>~/.pip_download_cache<span class="w">     </span><span class="c1"># para no bajar paquetes cada vez</span>
</pre></div>
<p>Luego editá tu <code class="docutils literal"><span class="pre">~/.bashrc</span></code> agregando las siguientes líneas</p>
<div class="code"><pre class="code bash"><a id="rest_code_54cc9b329bb04c82a4e9f1c155c09488-1" name="rest_code_54cc9b329bb04c82a4e9f1c155c09488-1" href="posts/creando-un-nuevo-proyecto-python/#rest_code_54cc9b329bb04c82a4e9f1c155c09488-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">WORKON_HOME</span><span class="o">=</span><span class="nv">$HOME</span>/.virtualenvs
<a id="rest_code_54cc9b329bb04c82a4e9f1c155c09488-2" name="rest_code_54cc9b329bb04c82a4e9f1c155c09488-2" href="posts/creando-un-nuevo-proyecto-python/#rest_code_54cc9b329bb04c82a4e9f1c155c09488-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">PROJECT_HOME</span><span class="o">=</span><span class="nv">$HOME</span>/proyectos
<a id="rest_code_54cc9b329bb04c82a4e9f1c155c09488-3" name="rest_code_54cc9b329bb04c82a4e9f1c155c09488-3" href="posts/creando-un-nuevo-proyecto-python/#rest_code_54cc9b329bb04c82a4e9f1c155c09488-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">VIRTUALENV_DISTRIBUTE</span><span class="o">=</span><span class="nb">true</span>
<a id="rest_code_54cc9b329bb04c82a4e9f1c155c09488-4" name="rest_code_54cc9b329bb04c82a4e9f1c155c09488-4" href="posts/creando-un-nuevo-proyecto-python/#rest_code_54cc9b329bb04c82a4e9f1c155c09488-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">PIP_DOWNLOAD_CACHE</span><span class="o">=</span><span class="nv">$HOME</span>/.pip_download_cache
<a id="rest_code_54cc9b329bb04c82a4e9f1c155c09488-5" name="rest_code_54cc9b329bb04c82a4e9f1c155c09488-5" href="posts/creando-un-nuevo-proyecto-python/#rest_code_54cc9b329bb04c82a4e9f1c155c09488-5"></a><span class="nb">source</span><span class="w"> </span>/usr/local/bin/virtualenvwrapper.sh
</pre></div>
<p>y recargá tus cambios:</p>
<pre class="literal-block">$ source ~/.bashrc</pre>
</li>
<li>
<p>Inicializá tu proyecto. Por ejemplo el proyecto <em>zaraza</em></p>
<pre class="literal-block">$ mkproject -t package zaraza</pre>
<p>Se te solicitarán algunos datos (nombre del proyecto, autor,
licencia, etc.) y ¡(casi) listo! Estarás trabajando en tu proyecto
<em>zaraza</em>. Tu prompt se verá así</p>
<pre class="literal-block">(zaraza)tin@morocha:~/proyectos/zaraza$</pre>
<p>¿Qué sucedió? Se creó un directorio <code class="docutils literal">~/proyectos/zaraza</code> para tu
proyecto, asociado a un virtualenv ubicado en <code class="docutils literal"><span class="pre">~/.virtualenvs/zaraza</span></code>.
<strong>skeleton</strong> automáticamente creó una estructura básica de
paquete python en <code class="docutils literal">~/proyectos/zaraza/src</code> incluyendo un <code class="docutils literal">setup.py</code>
basado en <em>distribute</em>.</p>
</li>
<li>
<p>Instalá tu paquete en el virtualenv, para poder importarlo desde
cualquier lado:</p>
<pre class="literal-block">(zaraza) $ cd  ~/proyectos/zaraza/src
(zaraza) $ pip install -e .</pre>
<p>Esto agrega el directorio de desarrollo de tu proyecto al PYTHONPATH
del virtualenv, de modo que puedes importar <em>zaraza</em> desde cualquier
lado dentro del virtualenv (por ejemplo, cuando hagas una carpeta
<em>src/test</em> al nivel de '/src/zaraza'</p>
</li>
</ol></section><section id="y-ahora"><h2>¿Y ahora?</h2>
<p>Cada vez que quieras trabajar en tu proyecto <em>zaraza</em> ejecutás:</p>
<pre class="literal-block">$ workon zaraza</pre>
<p>Para salir del virtualenv:</p>
<pre class="literal-block">(zaraza) $ deactivate</pre>
</section><section id="algunos-tips-mas-a-modo-de-despedida"><h2>Algunos tips más a modo de despedida</h2>
<p>Virtualenwrapper es totalmente hookeable y extensible. Esta receta
propone usar <em>skeleton</em> (que funciona como plugin de
<a class="reference external" href="http://www.doughellmann.com/projects/virtualenvwrapper.project/">virtualenvwrapper.project</a>)
para crear una estructura de paquete estándar básica, pero hay plugins
para proyectos más específicos. Por ejemplo
<a class="reference external" href="http://www.doughellmann.com/projects/virtualenvwrapper.django/">virtualenwrapper.django</a></p>
<p>El comando <code class="docutils literal">mkproject</code> es un wrapper sobre el
comando principal de virtualenvwrapper <code class="docutils literal">mkvirtualenv</code>, que acepta muchos
parámetros opcionales. Ejecutá <code class="docutils literal">mkproject_help</code> o <code class="docutils literal">mkvirtualenv <span class="pre">--help</span></code>
para saber más.</p>
<p>Y ya sabés ...</p>
<figure class="align-center"><img alt="http://python-distribute.org/pip_distribute.png" src="http://python-distribute.org/pip_distribute.png"></figure><hr class="docutils">
<blockquote>
<p>Este artículo lo escribí originalmente para el <a class="reference external" href="http://python.org.ar/pyar/Recetario">Recetario de PyAr</a></p>
</blockquote>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/migrando-issues-entre-proyectos-de-bitbucket/" class="u-url">Migrando issues entre proyectos de Bitbucket</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/migrando-issues-entre-proyectos-de-bitbucket/" rel="bookmark">
            <time class="published dt-published" datetime="2012-11-10T00:09:24-03:00" itemprop="datePublished" title="2012-11-10 00:09">2012-11-10 00:09</time></a>
            </p>
                <p class="commentline">        <a href="posts/migrando-issues-entre-proyectos-de-bitbucket/#disqus_thread" data-disqus-identifier="cache/posts/migrando-issues-entre-proyectos-de-bitbucket.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Hace un tiempo conté <a class="reference external" href="posts/de-mercurial-a-git-limpieza.html">como migré un repositorio Mercurial a Git</a> .
Se trataba de un proyecto hospedado en <a class="reference external" href="http://bitbucket.org">Bitbucket</a> y para cambiar
de DVCS tuve que crear un proyecto nuevo, que tambien hospedamos
allí porque somos pobretones y nos da repos privados gratis.
En la mudanza se me quedaron varios <em>issues</em> que necesitaba migrar. Y <a class="reference external" href="https://bitbucket.org/site/master/issue/1642/allow-moving-tickets-over-to-another">no era el único</a>.</p>
<p>Buscando un rato encontré scriptcitos para migrar <a class="reference external" href="https://github.com/sorich87/github-to-bitbucket-issues-migration">desde</a> o <a class="reference external" href="https://gist.github.com/3778347">hacia</a> GitHub
pero no había para migrar entre proyectos de Bitbucket, algo bastante común
desde que empezaron a ofrecer soporte Git.</p>
<p>Decidí entonces que debía hacer mi propio scriptcito migrador. La cosa se
complicaba porque <a class="reference external" href="https://github.com/Sheeprider/BitBucket-api">el</a>
<a class="reference external" href="https://github.com/ericof/python-bitbucket">par</a> de bibliotecas python
que interactuan con la API de Bitbucket no tenian, hasta el momento, soporte
para "postear" <em>issues</em></p>
<p>Pero no hay darse por vencido: se me ocurrió mirar el par de forks de cada
proyecto y encontré <a class="reference external" href="https://github.com/davidmpaz/BitBucket-api/commit/e7d727f0a340ca9f2c131b04bd72d7cf5e4960dc">justo lo que estaba buscando</a>.</p>
<p>Entonces bastó con instalar el fork de David Paz Reyes</p>
<div class="code"><pre class="code bash"><a id="rest_code_f31a1da04d2841da96c14f4401a6f8a1-1" name="rest_code_f31a1da04d2841da96c14f4401a6f8a1-1" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_f31a1da04d2841da96c14f4401a6f8a1-1"></a>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/davidmpaz/BitBucket-api.git
</pre></div>
<p>he hice un script que migra todo los issues en estado <em>new</em>
del repo original (<code class="docutils literal">gpec</code>) al nuevo (<code class="docutils literal">gpec</code>) y los potenciales comentarios que tenga.
Como el autor  se pierde (dado que el nuevo quedará publicado con mi usuario)
agrego un comentario avisando que es un <em>issue migrado</em>.</p>
<div class="code"><pre class="code python"><a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-1" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-1" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-1"></a><span class="ch">#!/usr/bin/env python</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-2" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-2" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-2"></a><span class="c1"># -*- coding: utf-8 -*-</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-3" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-3" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-3"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-4" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-4" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">bitbucket</span><span class="w"> </span><span class="kn">import</span> <span class="n">bitbucket</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-5" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-5" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-5"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-6" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-6" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-6"></a><span class="n">gpec</span> <span class="o">=</span> <span class="n">bitbucket</span><span class="o">.</span><span class="n">Bitbucket</span><span class="p">(</span><span class="s1">'tin_nqn'</span><span class="p">,</span> <span class="s1">'***'</span><span class="p">,</span> <span class="s1">'gpec'</span><span class="p">)</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-7" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-7" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-7"></a><span class="n">gpec3</span> <span class="o">=</span> <span class="n">bitbucket</span><span class="o">.</span><span class="n">Bitbucket</span><span class="p">(</span><span class="s1">'tin_nqn'</span><span class="p">,</span> <span class="s1">'***'</span><span class="p">,</span> <span class="s1">'gpec3'</span><span class="p">)</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-8" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-8" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-8"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-9" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-9" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-9"></a><span class="c1"># request original ISSUES</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-10" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-10" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-10"></a><span class="n">_</span><span class="p">,</span> <span class="n">result</span> <span class="o">=</span> <span class="n">gpec</span><span class="o">.</span><span class="n">get_issues</span><span class="p">()</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-11" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-11" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-11"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-12" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-12" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-12"></a><span class="k">for</span> <span class="n">issue</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s1">'issues'</span><span class="p">][:]:</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-13" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-13" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-13"></a>    <span class="n">original_id</span> <span class="o">=</span> <span class="n">issue</span><span class="p">[</span><span class="s1">'local_id'</span><span class="p">]</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-14" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-14" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-14"></a>    <span class="k">if</span> <span class="n">issue</span><span class="p">[</span><span class="s1">'status'</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">'new'</span><span class="p">:</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-15" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-15" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-15"></a>        <span class="k">continue</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-16" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-16" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-16"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-17" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-17" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-17"></a>    <span class="c1"># and post to the new repo</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-18" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-18" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-18"></a>    <span class="n">ok</span><span class="p">,</span> <span class="n">new_issue</span> <span class="o">=</span> <span class="n">gpec3</span><span class="o">.</span><span class="n">add_issue</span><span class="p">(</span><span class="o">**</span><span class="n">issue</span><span class="p">)</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-19" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-19" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-19"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-20" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-20" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-20"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-21" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-21" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-21"></a>        <span class="nb">print</span> <span class="s1">'Fail migrating #</span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">original_id</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-22" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-22" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-22"></a>        <span class="k">continue</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-23" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-23" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-23"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-24" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-24" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-24"></a>    <span class="n">new_id</span> <span class="o">=</span> <span class="n">new_issue</span><span class="p">[</span><span class="s1">'local_id'</span><span class="p">]</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-25" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-25" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-25"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-26" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-26" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-26"></a>    <span class="nb">print</span> <span class="s1">'Migrated #</span><span class="si">%d</span><span class="s1"> as #</span><span class="si">%d</span><span class="s1"> in the new project'</span> <span class="o">%</span> <span class="p">(</span><span class="n">original_id</span><span class="p">,</span> <span class="n">new_id</span><span class="p">)</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-27" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-27" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-27"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-28" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-28" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-28"></a>    <span class="c1"># add a comment to mark the migration</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-29" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-29" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-29"></a>    <span class="n">who</span> <span class="o">=</span> <span class="n">issue</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'reported_by'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-30" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-30" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-30"></a>    <span class="n">who</span> <span class="o">=</span> <span class="n">who</span><span class="p">[</span><span class="s1">'username'</span><span class="p">]</span> <span class="k">if</span> <span class="n">who</span> <span class="k">else</span> <span class="s1">'anonymous'</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-31" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-31" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-31"></a>    <span class="n">gpec3</span><span class="o">.</span><span class="n">add_issue_comment</span><span class="p">(</span><span class="n">new_id</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="s2">"Issue migrated from the original repo. "</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-32" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-32" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-32"></a>            <span class="s2">"Was #</span><span class="si">%d</span><span class="s2"> reported by </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">original_id</span><span class="p">,</span> <span class="n">who</span><span class="p">))</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-33" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-33" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-33"></a>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-34" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-34" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-34"></a>    <span class="c1"># migrate comments</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-35" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-35" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-35"></a>    <span class="n">result</span><span class="p">,</span> <span class="n">comments</span> <span class="o">=</span> <span class="n">gpec</span><span class="o">.</span><span class="n">get_issue_comments</span><span class="p">(</span><span class="n">original_id</span><span class="p">)</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-36" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-36" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-36"></a>    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">comments</span><span class="p">:</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-37" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-37" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-37"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="p">[</span><span class="s1">'content'</span><span class="p">]:</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-38" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-38" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-38"></a>            <span class="k">continue</span>
<a id="rest_code_16392e5c93184f05abe79fbbc6654c6f-39" name="rest_code_16392e5c93184f05abe79fbbc6654c6f-39" href="posts/migrando-issues-entre-proyectos-de-bitbucket/#rest_code_16392e5c93184f05abe79fbbc6654c6f-39"></a>        <span class="n">gpec3</span><span class="o">.</span><span class="n">add_issue_comment</span><span class="p">(</span><span class="n">new_id</span><span class="p">,</span> <span class="o">**</span><span class="n">c</span><span class="p">)</span>
</pre></div>
<p>¡Disfruten!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/jquery-una-introduccion/" class="u-url">Jquery, una introducción</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/jquery-una-introduccion/" rel="bookmark">
            <time class="published dt-published" datetime="2012-11-02T16:20:21-03:00" itemprop="datePublished" title="2012-11-02 16:20">2012-11-02 16:20</time></a>
            </p>
                <p class="commentline">        <a href="posts/jquery-una-introduccion/#disqus_thread" data-disqus-identifier="cache/posts/jquery-una-introduccion.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>jQuery, una librería javascript ligera y sumamente útil, desarrollada
por el talentoso programador <a class="reference external" href="http://ejohn.com">John Resig</a>.</p>
<p>Como se explica en el <a class="reference external" href="http://jquery.com/">sitio web</a>:</p>
<blockquote>
<p>jQuery es una biblioteca javascript ligera y concisa que simplifica
como atraviesas tus documentos HTML, manejas eventos, realizas
animaciones, y agregas interacción Ajax a tus páginas web. <strong>jQuery
está diseñada para cambiar la manera en que escribes JavaScript</strong></p>
</blockquote>
<section id="necesitamos-otra-biblioteca"><h2>¿Necesitamos otra biblioteca?</h2>
<p>El <a class="reference external" href="http://dojotoolkit.org/">Toolkit Dojo</a> está maduro e incluye hasta
el los hielos del whisky. Es ampliamente popular y muchas interfaces
<a class="reference external" href="http://es.wikipedia.org/wiki/Interfaz_de_usuario">UI</a> fueron
construidas sobre este toolkit, incluyendo
<a class="reference external" href="http://script.aculo.us">script.aculo.us</a>,
<a class="reference external" href="http://openrico.org">Rico</a>, y otros. Por supuesto, no podemos dejar
afuera a <a class="reference external" href="http://mootools.net">mootools</a>. Su biblioteca UI,
<a class="reference external" href="http://moofx.mad4milk.net/">moo.fx</a>, puede apoyarse sobre Prototype
si lo deseas. Tambiñen está <a class="reference external" href="posts/jquery-una-introduccion/developer.yahoo.com/yui/">Y!UI the Yahoo! User Interface
library</a>. Y tenemos
<a class="reference external" href="http://extjs.com">ExtJs</a>, un robusto framework de interfaz que se
basa en Y!UI, Prototype, o jQuery.</p>
</section><section id="jquery"><h2>jQuery</h2>
<p>Lo que nos trae a... jQuery. Sí, otro framework JavaScript. jQuery, sin
embargo, es a mi criterio el más rápido y elegante del montón. Soporta
CSS3, detección del navegador, encadenamiento de métodos, plugins, Ajax,
selectores flexibles, y efectos UI basicos. Todo en menos de 30Kb.</p>
<p>Pues bien, engolosinemos los ojos un poco. Hacé <a class="reference external" href="blog/jQuery-una-introduccion">click
acá</a> para ver lo que jQuery puede
hacer con un par de líneas de código.</p>
<p>Wow! Jquery en acción. ¿Lo ves?
Ese efecto se logra con este sencillo código:</p>
<pre class="literal-block">$("a.intro").click( function() {
    $("div.introtarget").toggle(100);return false;</pre>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ext4-superblock-failure-y-la-cola-del-diablo/" class="u-url">Ext4 superblock failure y la cola del Diablo</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/ext4-superblock-failure-y-la-cola-del-diablo/" rel="bookmark">
            <time class="published dt-published" datetime="2012-10-26T02:24:46-03:00" itemprop="datePublished" title="2012-10-26 02:24">2012-10-26 02:24</time></a>
            </p>
                <p class="commentline">        <a href="posts/ext4-superblock-failure-y-la-cola-del-diablo/#disqus_thread" data-disqus-identifier="cache/posts/ext4-superblock-failure-y-la-cola-del-diablo.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Domingo, ciudad de Guayaquil, todo dispuesto para salir a
conocer una ciudad que en las guías de viaje suena intererante y bonita.
Se me ocurre prender la compu para ver si ese email que mandé la noche
anterior, recién llegado después de 14 horas de viaje
(5 de espera en el aeropuerto de Santiago) y deseando únicamente
ducha y colchón, había sido contestado.</p>
<p><em>"No pusheé"</em>, fué lo primero que pensé, o me lo dije, en voz inaudible,
como eufemismo de un gran insulto y síntesis de <em>"Martincito querido,
ya sabés que el booteo está tardando mucho, el material para el taller_ que
tenés que dar mañana está en esa computadora y tiene al menos 10 horas
de trabajo offline que está en la última versión online: no podés ser tan
pelotudo y tener tan mal orto a la vez</em>". Mi voz interior sí que sabe
resumir.</p>
<p>Por suerte, no perdí la calma. Apreté el 1 en el teléfono: <em>"sí señor",  el
Bussiness Center queda en el 4 piso"</em>. Ahí fui y habia computadoras con
las que pude contactarme con Houston.</p>
<p>Grulic, <a class="reference external" href="https://twitter.com/perrito666">Perrito</a>,
<a class="reference external" href="http://verdumariano.com.ar/">Mariano</a>, Rudi, y especialmente
<a class="reference external" href="http://blog.ontrackdatarecovery.es/conoce-al-ingeniero-ernesto-lobo/">mi cuñado que trabaja en Ontrack</a>
y era algo así como un Messi sentado en mi banco de suplentes
para este partido que yo no hubiese querido jugar, fueron los primeros
con quienes me comuniqué.</p>
<p>Mandé este mensaje:</p>
<blockquote>
<p>Gente, les mando una de Murphy y el diablo y toda la mala leche junta.
Estoy en Ecuador invitado a dar un curso-taller de Python y Django.</p>
<p>Rodo venía fantastico , hasta que hoy enciendo la laptop y no y no entra el sistema operativo!.</p>
<p>Entro en modo recuperacion (ubuntu 11.10) y se clava en el <code class="docutils literal">fsck</code>
hasta que me aparece un menucito que me deja entrar a una consola root.
Lo peor sucedió <code class="docutils literal">/home/</code> no monta , pero el <code class="docutils literal">/</code>
parece estar sano. Ambas son una particion <code class="docutils literal">ext4</code></p>
<p>Si intento montar a mano o un fsck, el output dice muchas cosas que
suenan mal pero no tengo puta idea qué significan:</p>
<pre class="literal-block">STATUS { DRDY }
ERROR { UNC }
configured for UDMA/133
failed command READ DMA
exception Emask 0x0 Sact 0x0 Serr 0x0 action 0x0
res 51/40... Emask 0x9 (media error)</pre>
<p>Por favor, iluminenmé sobre cómo proceder.</p>
</blockquote>
<p>Ernesto contestó. Primero intentar hacer un un live-usb con algunas
herramientas de diagnostico: <a class="reference external" href="http://ubuntu-rescue-remix.org/">Ubuntu-rescue-remix</a>
podría funcionar, pero las maquinas del Bussiness center no me dejan
instalar algun <a class="reference external" href="http://www.pendrivelinux.com/universal-usb-installer-easy-as-1-2-3/">programita</a>
para pasar la ISO al pendrive.</p>
<p>Empiezo a deseperar ya pensar si no conviene aprovechar el tiempo que me llevará
intentar un salvataje con alta probabilidad de fracaso para rehacer el
trabajo inaccesible.</p>
<p>Desactivar journal, no. Forzar montado, no. No se qué otra cosa, no.</p>
<p>Ernesto pregunta si me animo a ir por el camino duro.</p>
<blockquote>
<p>Cómo estás de fresco ara leer hexadecimal ? <code class="docutils literal">hexdump</code> y <code class="docutils literal">dd</code>, la navaja suiza.
que necesitamos</p>
</blockquote>
<p>Intentamos algunas cosas, calculadora en mano,
pero la mayoría de los intentos de acceso al disco
caen en el mismo bucle de errores horribles. Mucho calor en Guayaquil.</p>
<p>Le digo a Ernesto (domingo, dia de descanso) que no se preocupe, que intentemos
eso último que se le ocurrió pero que si no funciona voy a ponerme a trabajar
de nuevo. Mientras tanto, el Dios en el que no creo me pone
<a class="reference external" href="http://linuxexpresso.wordpress.com/2010/03/31/repair-a-broken-ext4-superblock-in-ubuntu/">este link</a>
en el camino de resultados de Google.</p>
<p>"Ernesto, prabamos esto?" y no alcanzó a contestar
antes de que esté poniendo los primeros comandos</p>
<div class="code"><pre class="code bash"><a id="rest_code_b50a20c227674884ba8bf079fa62eb91-1" name="rest_code_b50a20c227674884ba8bf079fa62eb91-1" href="posts/ext4-superblock-failure-y-la-cola-del-diablo/#rest_code_b50a20c227674884ba8bf079fa62eb91-1"></a>$<span class="w"> </span>sudo<span class="w"> </span>mke2fs<span class="w"> </span>-n<span class="w"> </span>/dev/sda3
<a id="rest_code_b50a20c227674884ba8bf079fa62eb91-2" name="rest_code_b50a20c227674884ba8bf079fa62eb91-2" href="posts/ext4-superblock-failure-y-la-cola-del-diablo/#rest_code_b50a20c227674884ba8bf079fa62eb91-2"></a>
<a id="rest_code_b50a20c227674884ba8bf079fa62eb91-3" name="rest_code_b50a20c227674884ba8bf079fa62eb91-3" href="posts/ext4-superblock-failure-y-la-cola-del-diablo/#rest_code_b50a20c227674884ba8bf079fa62eb91-3"></a>Superblock<span class="w"> </span>backups<span class="w"> </span>stored<span class="w"> </span>on<span class="w"> </span>blocks:
<a id="rest_code_b50a20c227674884ba8bf079fa62eb91-4" name="rest_code_b50a20c227674884ba8bf079fa62eb91-4" href="posts/ext4-superblock-failure-y-la-cola-del-diablo/#rest_code_b50a20c227674884ba8bf079fa62eb91-4"></a><span class="m">32768</span>,<span class="w"> </span><span class="m">98304</span>,<span class="w"> </span><span class="m">163840</span>,<span class="w"> </span><span class="m">229376</span>,<span class="w"> </span><span class="m">294912</span>,<span class="w"> </span><span class="m">819200</span>,<span class="w"> </span><span class="m">884736</span>,<span class="w"> </span><span class="m">1605632</span>,<span class="w"> </span><span class="m">2654208</span>
</pre></div>
<p>Me la juego con el primer backup:</p>
<div class="code"><pre class="code bash"><a id="rest_code_e5184eb8c2ea42869b6d34f9546ba2aa-1" name="rest_code_e5184eb8c2ea42869b6d34f9546ba2aa-1" href="posts/ext4-superblock-failure-y-la-cola-del-diablo/#rest_code_e5184eb8c2ea42869b6d34f9546ba2aa-1"></a>sudo<span class="w"> </span>e2fsck<span class="w"> </span>-b<span class="w"> </span><span class="m">32768</span><span class="w"> </span>/dev/sda3
</pre></div>
<p>Cientos de  <code class="docutils literal">Y</code> <code class="docutils literal">Enter</code> para mensajes estilo <em>"está roto, desea repararlo?"</em>
(no había una opción "Sí a todo", como si uno fuese capaz de arrepentirse
a mitad de camino)</p>
<p>Anduvo. Uff. Dos simples comandos.
El Ingeniero Lobo festeja desde Londres, Skype mediante,
que podía volver a limpiar su moto sin quedar mal con su cuñado con mala
pata. Me dijo antes:</p>
<blockquote>
<p>Si no hubiese sido una situadion del tipo <em>mañana
ya no me sirven los datos</em> yo te hubiera  recomendado en contra
de herramienta como <code class="docutils literal">e2fsck</code>. Esos programas sólo se encargan
de asegurar que el filesystem esté íntegro, pero si para eso tienen
que cortarlo a la mitad lo hacen sin dudar.
Son como doctores de guerra: te dejan vivo, pero sin una pierna y un
brazo.</p>
</blockquote>
<p>Querido Guayaquil: prometo visitar tu Malecón la próxima,
<strong>push</strong> por adelantado.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/notas-rapidas-de-una-mudanza/" class="u-url">Notas rápidas de una mudanza</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Martín Gaitán
            </span></p>
            <p class="dateline">
            <a href="posts/notas-rapidas-de-una-mudanza/" rel="bookmark">
            <time class="published dt-published" datetime="2012-10-14T19:23:44-03:00" itemprop="datePublished" title="2012-10-14 19:23">2012-10-14 19:23</time></a>
            </p>
                <p class="commentline">        <a href="posts/notas-rapidas-de-una-mudanza/#disqus_thread" data-disqus-identifier="cache/posts/notas-rapidas-de-una-mudanza.html">Comentarios</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <p>Hace unos días abría este espacio prometiendo migrar contenidos y
tratar de que se vea un poco más bonito.</p>
<p>Este post incluye algunas notas sobre lo que he hecho hasta el momento.</p>
<section id="github-nikola"><h2>Github ♥ Nikola</h2>
<p>Este blog que estás leyendo está hospedado en <a class="reference external" href="http://pages.github.com">Github Pages</a> ,
el servicio de hosting gratuito de contenido estático que ofrece Github.</p>
<p>A diferencia de cuando se usa Gh-pages para proyectos, donde se sirve
el contenido del branch <em>gh-page</em> del proyecto en cuestión,
para usar gh-pages por usuario hay que crear
un repo llamado <em>&lt;username&gt;</em>.github.com (donde <em>&lt;username&gt;</em> es el tuyo)
y lo que sirve en <a class="reference external" href="http:/">http:/</a>/&lt;username&gt;.github.com es directamente el branch
<em>master</em> (<a class="reference external" href="https://help.github.com/articles/user-organization-and-project-pages">referencia</a>)</p>
<p>Por este motivo creé otro branch (que sin mucha imaginación denominé
<a class="reference external" href="https://github.com/mgaitan/mgaitan.github.com/tree/writing">writing</a> )
donde tengo todo el mi "proyecto" hecho con Nikola</p>
<p>Allí escribo, intento mejorar mi <a class="reference external" href="https://github.com/mgaitan/mgaitan.github.com/tree/writing/themes/custom">theme</a>, y corro <code class="docutils literal">nikola build</code>.</p>
<p>El branch master es el de deploy y sirve todo lo que haya en la carpeta
<code class="docutils literal">output/</code> del branch <code class="docutils literal">writing</code>. Para hacer <a class="reference external" href="http://stackoverflow.com/a/10591668">esto</a> hay que ir a <em>master</em>,
borrar todo y leer desde el árbol del otro branch con <code class="docutils literal"><span class="pre">read-tree</span></code></p>
<pre class="literal-block">git checkout master
git rm *    # sólo la primera vez
git read-tree writing:output
git commit -m 'deploying last build'
git push</pre>
</section><section id="migrando-desde-spip"><h2>Migrando desde Spip</h2>
<p>Uno de los motivos que me llevaron a migrar desde <a class="reference external" href="http://www.spip.net">Spip</a> es que el markup
que usa es <em>ad hoc</em> y muy feo. Algo así</p>
<pre class="literal-block">{{{ Un intertítulo }}}

Esto es {{negrita}} y este [mi twitter-&gt;http://twitter.com/tin_nqn_]</pre>
<p>Hasta ahí no se ve tan mal, pero es muy limitado cuando se trata de mostrar
código, necesario en todo blog mas o menos técnico.</p>
<p>Para migrar esquivé la idea de convertir el markup de spip y opté por un
scrapping, limpieza y conversión a restructuredText usando el mágico
<a class="reference external" href="http://johnmacfarlane.net/pandoc">Pandoc</a> (y la ayuda de PyQuery)</p>
<p>El script que hice está
<a class="reference external" href="https://github.com/mgaitan/mgaitan.github.com/blob/writing/tools/spip_converter.py">acá</a>
. No es perfecto, pero está lo importante: contenidos, imágenes, adjuntos,
convertido a restructuredText bastante decente que mejoraré poco a poco
a mano.</p>
</section><section id="estilos"><h2>Estilos</h2>
<p>Es mentira que a los ñoños no nos gustan las cosas (los blogs, entre otras)
que se ven bonitos. Sucede, en realidad, que la mayoría de las veces no
venimos con <em>esa</em> habilidad y el esfuerzo que nos implica intentarlo
preferimos ponerlo en otra cosa. No gusta, pero no es lo más importante.</p>
<p>No obstante, yo quiero que este espacio sea lindo y legible. Y como hay
muchos otros ñoños con sitios lindos y legibles que son tan amables de
compartir sus estilos (y existe <a class="reference external" href="http://twitter.github.com/bootstrap">bootstrap</a>, claro) voy a ir intentándolo,
incrementalmente.</p>
<p>Por ahora tomé ideas y CSS de <a class="reference external" href="http://stevelosh.com">stevelosh.com</a> <a class="brackets" href="posts/notas-rapidas-de-una-mudanza/#footnote-1" id="footnote-reference-1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> y de la documentación
de <a class="reference external" href="http://flask.pocoo.org/docs/">Flask</a> <a class="brackets" href="posts/notas-rapidas-de-una-mudanza/#footnote-2" id="footnote-reference-2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> basado en el theme <em>Readable</em> de <a class="reference external" href="http://bootswatch.com/">bootswatch.com</a></p>
</section><section id="disqus"><h2>Disqus</h2>
<p>El blog viejo usaba <a class="reference external" href="http://disqus.com">Disqus</a>, con un <a class="reference external" href="http://mgaitan.github.com/posts/disqus-para-spip.html">plugin</a> que hice hace algun tiempo.
Para migrar los comentarios utilicé el método de subir un CSV con
el formato que genera el mismo script de migración:</p>
<pre class="literal-block">URL_POST_X_OLD, URL_POST_X_NEW
URL_POST_Y_OLD, URL_POST_Y_NEW</pre>
<p>En cuestión de minutos los (pocos) comentarios estaban migrados.</p>
</section><section id="redireccion"><h2>Redirección</h2>
<p>Como mantuve el slug de los viejos artículos, una redirección 301
via .htaccess redirige del viejo blog al nuevo:</p>
<pre class="literal-block"># nqnwebs.com blog rules
RewriteCond %{HTTP_HOST} ^nqnwebs [nc]
RewriteRule ^blog[/]?$ http://mgaitan.github.com/ [R=301]
RewriteRule ^blog/article/(.*)$ http://mgaitan.github.com/posts/$1.html [R=301]</pre>
<p>¿Cómo se va viendo?</p>
<aside class="footnote-list brackets"><aside class="footnote brackets" id="footnote-1" role="doc-footnote"><span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="posts/notas-rapidas-de-una-mudanza/#footnote-reference-1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://bitbucket.org/sjl/stevelosh/src/6432040d5154/LICENSE?at=default">https://bitbucket.org/sjl/stevelosh/src/6432040d5154/LICENSE?at=default</a></p>
</aside><aside class="footnote brackets" id="footnote-2" role="doc-footnote"><span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="posts/notas-rapidas-de-una-mudanza/#footnote-reference-2">2</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://github.com/mitsuhiko/flask-sphinx-themes/blob/master/LICENSE">https://github.com/mitsuhiko/flask-sphinx-themes/blob/master/LICENSE</a></p>
</aside></aside></section>
</div>
    </article>
</div>
        <ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-16.html" rel="prev">Posts posteriores</a></li>
            <li class="next"><a href="index-14.html" rel="next">Posts anteriores</a></li>
        </ul>
<script>var disqus_shortname="nqnwebs";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer">
            Contents © 2025         <a href="mailto:gaitan@gmail.com">Martín Gaitán</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>

        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js" integrity="sha256-ULQV01VS9LCI2ePpLsmka+W0mawFpEA0rtxnezUj4A4=" crossorigin="anonymous"></script><script src="assets/js/all.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/jquery.timeago.js" type="text/javascript"></script><script>
    jQuery(document).ready(function() {

        if(jQuery('html').attr('lang') === 'es'){
             jQuery.timeago.settings.strings = {
               prefixAgo: "hace",
               prefixFromNow: "dentro de",
               suffixAgo: "",
               suffixFromNow: "",
               seconds: "menos de un minuto",
               minute: "un minuto",
               minutes: "unos %d minutos",
               hour: "una hora",
               hours: "%d horas",
               day: "un día",
               days: "%d días",
               month: "un mes",
               months: "%d meses",
               year: "un año",
               years: "%d años"
            };
        }
        jQuery("time.published").timeago();

        jQuery('article:not(:first)').before('<hr>');

        jQuery('.highlight pre').addClass('code');
    });
    </script><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51074482-1', 'mgaitan.github.io');
      ga('send', 'pageview');

    </script>
</body>
</html>
